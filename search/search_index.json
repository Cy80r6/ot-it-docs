{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"OT/IT Docs","text":"<p>Jednov\u011bt\u00e9 shrnut\u00ed: Tento web je moje pracovn\u00ed dokumentace \u201ehow\u2011to\u201c, aby \u0161ly v\u011bci zopakovat a sd\u00edlet.</p>"},{"location":"#jak-cist","title":"Jak \u010d\u00edst","text":"<ul> <li>Ka\u017ed\u00fd n\u00e1vod m\u00e1: \u00da\u010del \u2192 P\u0159edpoklady \u2192 Kroky \u2192 Ov\u011b\u0159en\u00ed \u2192 Rollback.</li> <li>Ka\u017ed\u00fd projekt m\u00e1: C\u00edl \u2192 Kontext \u2192 Architektura \u2192 Postup \u2192 V\u00fdsledky \u2192 Rizika \u2192 Next.</li> <li>Rozhodnut\u00ed ukl\u00e1d\u00e1m jako ADR.</li> </ul>"},{"location":"#verze-webu","title":"Verze webu","text":"<p>V hlavi\u010dce je voli\u010d verz\u00ed. <code>latest</code> ukazuje aktu\u00e1ln\u00ed stav.</p>"},{"location":"adr/adr-0001-volba-stacku/","title":"ADR 0001 \u2014 Volba stacku: MkDocs Material + GitHub Pages + mike","text":"<p>Status</p> <p>P\u0159ijato \u2022 Datum:  \u2022 Verze projektu: </p>"},{"location":"adr/adr-0001-volba-stacku/#kontext","title":"Kontext","text":"<ul> <li>Pot\u0159ebujeme rychle ps\u00e1t dokumentaci k OT/IT projekt\u016fm v \u010dist\u00e9m Markdownu.</li> <li>C\u00edl: n\u00edzk\u00e1 re\u017eie, auto\u2011deploy z GitHubu, vyhled\u00e1v\u00e1n\u00ed, diagramy (Mermaid), a verzov\u00e1n\u00ed dokumentace.</li> <li>Skrz roadmapu m\u00ed\u0159\u00edme k profilu OT/IT Solution Architect; dokumentace m\u00e1 b\u00fdt opakovateln\u00e9 how\u2011to, projekty, ADR a playbooky.</li> </ul>"},{"location":"adr/adr-0001-volba-stacku/#problem","title":"Probl\u00e9m","text":"<p>Jak\u00fd publika\u010dn\u00ed stack zvolit, aby byl: - jednoduch\u00fd na \u00fadr\u017ebu (\u017e\u00e1dn\u00fd server), - rychl\u00fd na psan\u00ed (Markdown, minimum build magie), - srozumiteln\u00fd diff v Gitu, - p\u0159ipraven\u00fd na verzov\u00e1n\u00ed (uvol\u0148ov\u00e1n\u00ed 0.1, 0.2\u2026 bez l\u00e1m\u00e1n\u00ed star\u00fdch str\u00e1nek).</p>"},{"location":"adr/adr-0001-volba-stacku/#rozhodnuti","title":"Rozhodnut\u00ed","text":"<p>Vol\u00edm MkDocs Material pro generov\u00e1n\u00ed webu + GitHub Pages pro hosting + mike pro verzov\u00e1n\u00ed dokumentace. - Build a publish b\u011b\u017e\u00ed p\u0159es GitHub Actions, v\u011btev <code>gh-pages</code>. - Struktura: <code>projects/</code>, <code>how-to/</code>, <code>playbooks/</code>, <code>reference/</code>, <code>adr/</code>. - Diagramy kresl\u00edm v ```mermaid bloc\u00edch (Material je um\u00ed nativn\u011b).</p>"},{"location":"adr/adr-0001-volba-stacku/#alternativy-zvazovane","title":"Alternativy (zva\u017eovan\u00e9)","text":"<ul> <li>Docusaurus (React): siln\u00e9 doc\u2011features, ale vy\u0161\u0161\u00ed re\u017eie (Node/React, buildy, komponenty).</li> <li>Hugo / Astro: velmi rychl\u00e9 gener\u00e1tory, ale m\u00e9n\u011b \u201eout\u2011of\u2011the\u2011box\u201c doc\u2011komfortu; v\u00edc rozhodov\u00e1n\u00ed o \u0161ablon\u00e1ch.</li> <li>Cloudflare Pages: modern\u00ed hosting, ale GitHub Pages je \u201enejkrat\u0161\u00ed cesta\u201c (Actions + permissions u\u017e vy\u0159e\u0161eny).</li> <li>Sphinx: skv\u011bl\u00fd pro Python ekosyst\u00e9m, hor\u0161\u00ed UX pro b\u011b\u017en\u00fd Markdown a m\u00e9n\u011b \u201eplug\u2011and\u2011play\u201c vzhled.</li> </ul>"},{"location":"adr/adr-0001-volba-stacku/#dusledky","title":"D\u016fsledky","text":"<p>Pozitiva - Markdown-first, n\u00edzk\u00e1 ment\u00e1ln\u00ed i infrastrukturn\u00ed re\u017eie. - Rychl\u00fd start, hezk\u00e9 v\u00fdchoz\u00ed UI, vyhled\u00e1v\u00e1n\u00ed, call\u2011outy, Mermaid. - mike umo\u017en\u00ed dr\u017eet v\u00edce verz\u00ed webu (0.1, latest\u2026).</p> <p>Negativa / trade\u2011offs - Omezen\u011bj\u0161\u00ed custom UI vs. React \u0159e\u0161en\u00ed. - Pokro\u010dil\u00e9 interakce (custom komponenty) znamenaj\u00ed extra pr\u00e1ci. - Verzov\u00e1n\u00ed p\u0159es <code>mike</code> vy\u017eaduje discipl\u00ednu v release workflow.</p>"},{"location":"adr/adr-0001-volba-stacku/#realizace-highlevel","title":"Realizace (high\u2011level)","text":"<ol> <li>CI/CD: workflow <code>.github/workflows/deploy.yml</code> \u2014 build MkDocs, publish do <code>gh-pages</code>.</li> <li>Pages: Settings \u2192 Pages \u2192 Deploy from a branch \u2192 <code>gh-pages</code> \u2192 <code>/</code>.</li> <li>Struktura obsahu: slo\u017eky v\u00fd\u0161e, konvence n\u00e1zv\u016f <code>kebab-case.md</code>.</li> <li>Verzov\u00e1n\u00ed: <code>mike deploy 0.1 latest</code> (manu\u00e1ln\u011b nebo separ\u00e1tn\u00edm workflow).</li> <li>Kvalita obsahu: ka\u017ed\u00e1 str\u00e1nka m\u00e1 \u00da\u010del, Kroky, Ov\u011b\u0159en\u00ed, Rollback (Feynman, m\u011b\u0159itelnost).</li> </ol>"},{"location":"adr/adr-0001-volba-stacku/#overeni-uspechu","title":"Ov\u011b\u0159en\u00ed \u00fasp\u011bchu","text":"<ul> <li>Po pushi do <code>main</code> se web b\u011bhem chv\u00edle aktualizuje na GitHub Pages.</li> <li>Full\u2011text vyhled\u00e1v\u00e1n\u00ed funguje; Mermaid diagramy se renderuj\u00ed.</li> <li><code>mike</code> um\u00ed nasadit verzi 0.1 a dr\u017eet alias latest.</li> <li>Minim\u00e1ln\u011b 3 str\u00e1nky (How\u2011to, Project, ADR) jsou publikov\u00e1ny.</li> </ul>"},{"location":"adr/adr-0001-volba-stacku/#rizika-a-mitigace","title":"Rizika a mitigace","text":"<ul> <li>\u201eM\u00ed\u0161ma\u0161 strategi\u00ed deploye\u201c (branch vs. artifact) \u2192 dr\u017eet se <code>gh-pages</code> a <code>mkdocs gh-deploy</code>.</li> <li>Cache/CDN klame \u2192 tvrd\u00fd refresh, cache\u2011buster <code>?_cb=YYYYMMDDHHMM</code>.</li> <li>Vendor lock\u2011in na Material theme \u2192 minimalizovat vendor specifika v obsahu, dr\u017eet \u010dist\u00fd Markdown.</li> </ul>"},{"location":"adr/adr-0001-volba-stacku/#nasledne-kroky","title":"N\u00e1sledn\u00e9 kroky","text":"<ul> <li>P\u0159idat workflow na release verze (<code>mike</code>) s inputem verze.</li> <li>Zalo\u017eit style\u2011guide (nadpisy, tagy, obr\u00e1zky, diagramy).</li> <li>Vytvo\u0159it \u0161ablony: Project, How\u2011to, ADR (re\u2011use kousky).</li> </ul> <p>Pozn\u00e1mky - Autor:  - Souvisej\u00edc\u00ed: Roadmapa OT/IT, Sprint 1, CI/CD str\u00e1nka (<code>ci-cd-mkdocs-pages.md</code>)</p>"},{"location":"adr/adr-0002-docker-stack/","title":"ADR 0002: Docker stack jako v\u00fdchoz\u00ed prost\u0159ed\u00ed","text":""},{"location":"adr/adr-0002-docker-stack/#kontext","title":"Kontext","text":"<p>Pro laboratorn\u00ed a v\u00fdukov\u00e9 \u00fa\u010dely je pot\u0159eba m\u00edt opakovateln\u011b nasaditeln\u00e9, izolovan\u00e9 a snadno \u010distiteln\u00e9 prost\u0159ed\u00ed pro OT/IT integraci.</p>"},{"location":"adr/adr-0002-docker-stack/#rozhodnuti","title":"Rozhodnut\u00ed","text":"<p>Jako z\u00e1kladn\u00ed prost\u0159ed\u00ed bude pou\u017eit Docker stack (Docker Desktop + WSL2 na Windows 11) s docker-compose pro orchestraci slu\u017eeb.</p>"},{"location":"adr/adr-0002-docker-stack/#duvody","title":"D\u016fvody","text":"<ul> <li>Rychl\u00e1 instalace a odstran\u011bn\u00ed bez z\u00e1sahu do hostitelsk\u00e9ho syst\u00e9mu</li> <li>Snadn\u00e1 replikace prost\u0159ed\u00ed na jin\u00e9m po\u010d\u00edta\u010di</li> <li>Mo\u017enost verzovat konfiguraci v Gitu</li> <li>Podpora pro b\u011bh na Windows, Linux i Mac</li> <li>Mo\u017enost vyu\u017e\u00edt GPU (NVIDIA) pro AI/ML kontejnery</li> </ul>"},{"location":"adr/adr-0002-docker-stack/#alternativy","title":"Alternativy","text":"<ul> <li>Lok\u00e1ln\u00ed instalace v\u0161ech slu\u017eeb p\u0159\u00edmo na OS (vy\u0161\u0161\u00ed riziko zane\u0159\u00e1d\u011bn\u00ed, slo\u017eit\u011bj\u0161\u00ed \u00faklid)</li> <li>Virtu\u00e1ln\u00ed stroje (vy\u0161\u0161\u00ed n\u00e1roky na HW, pomalej\u0161\u00ed start)</li> </ul>"},{"location":"adr/adr-0002-docker-stack/#dusledky","title":"D\u016fsledky","text":"<ul> <li>V\u0161echny n\u00e1vody a projekty budou vych\u00e1zet z Docker prost\u0159ed\u00ed</li> <li>U\u017eivatel\u00e9 mus\u00ed m\u00edt mo\u017enost spustit Docker Desktop a WSL2</li> <li>Pro pokro\u010dil\u00e9 sc\u00e9n\u00e1\u0159e lze roz\u0161\u00ed\u0159it o dal\u0161\u00ed kontejnery/slu\u017eby</li> </ul>"},{"location":"adr/adr-0003-esp32/","title":"ADR 0003: Volba platformy pro edge za\u0159\u00edzen\u00ed \u2014 ESP32","text":"<p>Status: Accepted Date: 2025-08-24</p>"},{"location":"adr/adr-0003-esp32/#kontext-a-problem","title":"Kontext a probl\u00e9m","text":"<p>Pro prvn\u00ed laboratorn\u00ed OT/IT sc\u00e9n\u00e1\u0159e pot\u0159ebujeme univerz\u00e1ln\u00ed, levn\u00e9 a snadno programovateln\u00e9 edge za\u0159\u00edzen\u00ed pro sb\u011br a p\u0159enos dat do MQTT. Po\u017eadavky zahrnuj\u00ed: - Dostupnost a n\u00edzk\u00e1 cena - Podpora Wi-Fi - Snadn\u00e9 flashov\u00e1n\u00ed a v\u00fdvoj (MicroPython, Arduino/C++) - Komunita a dokumentace</p>"},{"location":"adr/adr-0003-esp32/#rozhodnuti","title":"Rozhodnut\u00ed","text":"<p>Zvolili jsme platformu ESP32 (v\u010detn\u011b varianty ESP32-S3) jako v\u00fdchoz\u00ed edge za\u0159\u00edzen\u00ed pro laboratorn\u00ed projekty.</p>"},{"location":"adr/adr-0003-esp32/#duvody","title":"D\u016fvody:","text":"<ul> <li>Dostupnost na trhu, n\u00edzk\u00e1 cena</li> <li>Podpora Wi-Fi (i BLE, Ethernet)</li> <li>Podpora v\u00edce v\u00fdvojov\u00fdch prost\u0159ed\u00ed (MicroPython, Arduino/C++)</li> <li>Snadn\u00e9 flashov\u00e1n\u00ed (Thonny, esptool, mpremote)</li> <li>Bohat\u00e1 komunita, n\u00e1vody a knihovny</li> <li>Mo\u017enost rychl\u00e9ho prototypov\u00e1n\u00ed i pokro\u010dil\u00fdch projekt\u016f</li> </ul>"},{"location":"adr/adr-0003-esp32/#alternativy","title":"Alternativy","text":"<ul> <li>Raspberry Pi Pico W (m\u00e9n\u011b roz\u0161\u00ed\u0159en\u00e9, m\u00e9n\u011b knihoven)</li> <li>Arduino s Wi-Fi (vy\u0161\u0161\u00ed cena, slo\u017eit\u011bj\u0161\u00ed v\u00fdvoj)</li> <li>Pr\u016fmyslov\u00e9 PLC (vy\u0161\u0161\u00ed cena, slo\u017eit\u011bj\u0161\u00ed integrace)</li> </ul>"},{"location":"adr/adr-0003-esp32/#dusledky","title":"D\u016fsledky","text":"<ul> <li>V\u0161echny n\u00e1vody a projekty budou vych\u00e1zet z ESP32 jako referen\u010dn\u00ed platformy.</li> <li>How-to n\u00e1vody budou pokr\u00fdvat jak MicroPython, tak Arduino/C++ workflow.</li> <li>Pro jin\u00e9 platformy je nutn\u00e9 upravit postupy a k\u00f3d.</li> </ul>"},{"location":"adr/adr-0003-esp32/#odkazy","title":"Odkazy","text":"<ul> <li>How-to: ESP32 \u2192 MQTT (mini-sketch)</li> <li>How-to: ESP32 \u2192 MQTT v Pythonu (MicroPython)</li> </ul>"},{"location":"adr/adr-0004-lwt-presence-monitoring/","title":"ADR-0004: LWT presence monitoring pro IoT uzly","text":"<ul> <li>Stav: P\u0159ijato (2025-08-24)</li> <li>Kontekst: Pot\u0159ebujeme spolehliv\u011b indikovat dostupnost IoT uzl\u016f (ESP32) v lok\u00e1ln\u00ed s\u00edti s Mosquitto.</li> <li>Rozhodnut\u00ed: V\u0161echny MQTT klienty publikuj\u00ed will na <code>&lt;namespace&gt;/&lt;device&gt;/meta/status</code> s payloadem <code>OFFLINE</code>, <code>QoS=1</code>, <code>retain=true</code>. P\u0159i p\u0159ipojen\u00ed pos\u00edlaj\u00ed <code>ONLINE</code> (retained).</li> <li>Alternativy:</li> <li>Healthcheck topic bez LWT (z\u00e1visl\u00e9 na klientovi) \u2013 zam\u00edtnuto: nezachyt\u00ed \u201eumrt\u00ed\u201c klienta.</li> <li>Periodick\u00fd heartbeat \u2013 dopl\u0148kov\u00e9, ne\u0159e\u0161\u00ed n\u00e1hl\u00e9 odpojen\u00ed.</li> <li>D\u016fsledky:</li> <li>Node\u2011RED dashboard m\u016f\u017ee indikovat stav i pro nep\u0159\u00edtomn\u00e9 klienty (d\u00edky retained).</li> <li>Nutnost standardizovat namespace a TTL pro n\u00e1sledn\u00e9 alerty.</li> <li>Souvisej\u00edc\u00ed: \u0160ablona ADR; LWT how\u2011to; Namespace konvence.</li> </ul>"},{"location":"adr/adr-template/","title":"\u0160ablona ADR","text":"<p>Title: ADR Template Status: template</p>"},{"location":"adr/adr-template/#adr-template","title":"ADR Template","text":"<p>Toto je \u0161ablona ADR. Nakop\u00edruj a vypl\u0148 p\u0159i tvorb\u011b nov\u00e9ho ADR.</p> <p>Status</p> <p>[Navr\u017eeno / P\u0159ijato / Zam\u00edtnuto] \u2022 Datum:  \u2022 Verze projektu: </p>"},{"location":"adr/adr-template/#nazev","title":"N\u00e1zev","text":"<ul> <li>[Stru\u010dn\u00fd, v\u00fdsti\u017en\u00fd n\u00e1zev rozhodnut\u00ed.]</li> </ul>"},{"location":"adr/adr-template/#datum","title":"Datum","text":"<ul> <li>[Datum p\u0159ijet\u00ed rozhodnut\u00ed.]</li> </ul>"},{"location":"adr/adr-template/#kontext","title":"Kontext","text":"<ul> <li>[Popi\u0161, co je pot\u0159eba \u0159e\u0161it, jak\u00e9 jsou okolnosti, pro\u010d je rozhodnut\u00ed d\u016fle\u017eit\u00e9. Pi\u0161 stru\u010dn\u011b, ale jasn\u011b.]</li> </ul>"},{"location":"adr/adr-template/#problem","title":"Probl\u00e9m","text":"<ul> <li>[Formuluj hlavn\u00ed ot\u00e1zku/probl\u00e9m, kter\u00fd je t\u0159eba rozhodnout. Zam\u011b\u0159 se na j\u00e1dro v\u011bci.]</li> </ul>"},{"location":"adr/adr-template/#rozhodnuti","title":"Rozhodnut\u00ed","text":"<ul> <li>[Jak\u00e9 \u0159e\u0161en\u00ed bylo zvoleno a pro\u010d. Stru\u010dn\u011b popi\u0161 implementaci, strukturu, workflow, atd.]</li> </ul>"},{"location":"adr/adr-template/#alternativy-zvazovane","title":"Alternativy (zva\u017eovan\u00e9)","text":"<ul> <li>[Jak\u00e9 dal\u0161\u00ed mo\u017enosti byly zva\u017eov\u00e1ny a pro\u010d nebyly vybr\u00e1ny. Uve\u010f jen relevantn\u00ed.]</li> </ul>"},{"location":"adr/adr-template/#dusledky","title":"D\u016fsledky","text":"<p>Pozitiva - [Jak\u00e9 v\u00fdhody p\u0159in\u00e1\u0161\u00ed zvolen\u00e9 \u0159e\u0161en\u00ed.]</p> <p>Negativa / trade\u2011offs - [Jak\u00e9 jsou nev\u00fdhody, omezen\u00ed, rizika.]</p>"},{"location":"adr/adr-template/#realizace-highlevel","title":"Realizace (high\u2011level)","text":"<ol> <li>[Hlavn\u00ed kroky implementace, workflow, struktura, konvence.]</li> <li>...</li> </ol>"},{"location":"adr/adr-template/#overeni-uspechu","title":"Ov\u011b\u0159en\u00ed \u00fasp\u011bchu","text":"<ul> <li>[Jak pozn\u00e1\u0161, \u017ee rozhodnut\u00ed bylo \u00fasp\u011b\u0161n\u011b realizov\u00e1no.]</li> </ul>"},{"location":"adr/adr-template/#rizika-a-mitigace","title":"Rizika a mitigace","text":"<ul> <li>[Jak\u00e1 jsou hlavn\u00ed rizika a jak je minimalizovat.]</li> </ul>"},{"location":"adr/adr-template/#nasledne-kroky","title":"N\u00e1sledn\u00e9 kroky","text":"<ul> <li>[Co je pot\u0159eba ud\u011blat d\u00e1l, follow-up, doporu\u010den\u00ed.]</li> </ul>"},{"location":"how-to/ci-cd-github-actions/","title":"How-to: CI/CD \u2013 GitHub Actions pro MkDocs","text":"<p>\u00da\u010del</p> <p>Automatizovat build a nasazen\u00ed dokumentace MkDocs na GitHub Pages pomoc\u00ed GitHub Actions.</p>"},{"location":"how-to/ci-cd-github-actions/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Repo na GitHubu</li> <li>MkDocs a mkdocs-material v projektu</li> <li>Nastaven\u00fd GitHub Pages (branch <code>gh-pages</code>)</li> </ul>"},{"location":"how-to/ci-cd-github-actions/#kroky","title":"Kroky","text":"<ol> <li>Vytvo\u0159 workflow <code>.github/workflows/deploy.yml</code> podle \u0161ablony v projektu.</li> <li>Ujisti se, \u017ee v <code>mkdocs.yml</code> je spr\u00e1vn\u011b nastaven\u00fd <code>site_url</code> a <code>repo_url</code>.</li> <li>Pushni zm\u011bny do v\u011btve <code>main</code>.</li> <li>Ov\u011b\u0159, \u017ee Actions b\u011b\u017e\u00ed a web je nasazen na GitHub Pages.</li> </ol>"},{"location":"how-to/ci-cd-github-actions/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Po pushi do <code>main</code> se web automaticky aktualizuje.</li> <li>Nov\u00e9 zm\u011bny jsou vid\u011bt na webu.</li> </ul>"},{"location":"how-to/ci-cd-github-actions/#rollback","title":"Rollback","text":"<ul> <li>Vra\u0165 posledn\u00ed commit nebo workflow v GitHub Actions.</li> </ul>"},{"location":"how-to/ci-cd-mike/","title":"How-to: CI/CD \u2013 Mike pro verze dokumentace","text":"<p>\u00da\u010del</p> <p>Nasazovat a spravovat v\u00edce verz\u00ed dokumentace pomoc\u00ed n\u00e1stroje mike a GitHub Actions.</p>"},{"location":"how-to/ci-cd-mike/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Repo na GitHubu</li> <li>MkDocs, mkdocs-material a mike v projektu</li> <li>Nastaven\u00fd GitHub Pages (branch <code>gh-pages</code>)</li> </ul>"},{"location":"how-to/ci-cd-mike/#kroky","title":"Kroky","text":"<ol> <li>Nainstaluj mike (<code>pip install mike</code>).</li> <li>Pro novou verzi spus\u0165:    <pre><code>mike deploy --push --update-aliases 0.2 latest\n</code></pre>    (nahra\u010f \u010d\u00edslo verze dle pot\u0159eby)</li> <li>Ov\u011b\u0159, \u017ee se v menu objevil p\u0159ep\u00edna\u010d verz\u00ed.</li> <li>Pro rollback pou\u017eij star\u0161\u00ed alias nebo nasazen\u00ed.</li> </ol>"},{"location":"how-to/ci-cd-mike/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Web nab\u00edz\u00ed p\u0159ep\u00edn\u00e1n\u00ed mezi verzemi (latest, 0.1, 0.2\u2026)</li> <li>Nov\u00e1 verze je dostupn\u00e1 na webu.</li> </ul>"},{"location":"how-to/ci-cd-mike/#rollback","title":"Rollback","text":"<ul> <li>Nasazen\u00ed p\u0159edchoz\u00ed verze pomoc\u00ed mike nebo GitHub Actions.</li> </ul>"},{"location":"how-to/ci-cd-mkdocs-pages/","title":"CI/CD pro OT/IT Docs (MkDocs \u2192 GitHub Pages)","text":"<p>Co je CI/CD (stru\u010dn\u011b)</p> <p>CI \u2014 \u010dasto (ka\u017ed\u00fdm pushem) integruju zm\u011bny a ov\u011b\u0159uju je buildem/testy, aby se chyby chytaly brzy. CD \u2014 automaticky p\u0159ipravuju artefakt k nasazen\u00ed (Delivery) nebo rovnou nasazuju do produkce (Deployment).  </p> <p>Tady te\u010f prob\u00edh\u00e1 Continuous Integration (MkDocs build na ka\u017ed\u00fd push) a Continuous Deployment (auto-nasazen\u00ed na <code>gh-pages</code> \u2192 web se hned aktualizuje).</p> <p>Pro\u010d jednou v\u011btou: Ka\u017ed\u00fd push do <code>main</code> automaticky p\u0159ebuild\u00ed web a nasad\u00ed ho na GitHub Pages. Bez ru\u010dn\u00edho nahr\u00e1v\u00e1n\u00ed.</p>"},{"location":"how-to/ci-cd-mkdocs-pages/#ucel","title":"\u00da\u010del","text":"<ul> <li>Automaticky nasazovat web z Markdownu p\u0159i ka\u017ed\u00e9m pushi.</li> <li>M\u00edt opakovateln\u00e9 kroky buildu v CI.</li> <li>Udr\u017eet repo jako jedin\u00fd zdroj pravdy.</li> </ul>"},{"location":"how-to/ci-cd-mkdocs-pages/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Repo <code>ot-it-docs</code> (public), zapnut\u00e9 GitHub Pages (Source: Deploy from a branch \u2192 gh-pages \u2192 /).</li> <li>Slo\u017eka <code>docs/</code> a soubor <code>mkdocs.yml</code>.</li> <li>Workflow <code>.github/workflows/deploy.yml</code> (viz n\u00ed\u017ee).</li> </ul>"},{"location":"how-to/ci-cd-mkdocs-pages/#kroky","title":"Kroky","text":""},{"location":"how-to/ci-cd-mkdocs-pages/#1-workflow-pro-deploy","title":"1. Workflow pro deploy","text":"<p>Soubor: <code>.github/workflows/deploy.yml</code> ```yaml name: Deploy MkDocs to GitHub Pages</p> <p>on:   push:     branches: [ \"main\" ]   workflow_dispatch:</p> <p>permissions:   contents: write \u017e jobs:   build-deploy:     runs-on: ubuntu-latest     steps:       - name: Checkout         uses: actions/checkout@v4</p> <pre><code>  - name: Setup Python\n    uses: actions/setup-python@v5\n    with:\n      python-version: '3.x'\n\n  - name: Install dependencies\n    run: |\n      python -m pip install --upgrade pip\n      pip install mkdocs-material\n\n  - name: Configure Git for GitHub Actions\n    run: |\n      git config user.name \"github-actions[bot]\"\n      git config user.email \"41898282+github-actions[bot]@users.noreply.github.com\"\n      git remote set-url origin https://x-access-token:${GITHUB_TOKEN}@github.com/${{ github.repository }}.git\n    env:\n      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\n  - name: Build &amp; deploy to gh-pages\n    env:\n      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n    run: |\n      mkdocs build --strict\n      mkdocs gh-deploy --force --clean --remote-branch gh-pages\n</code></pre>"},{"location":"how-to/ci-cd-mkdocs-pages/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/ci-cd-mkdocs-pages/#problem-actions-zelene-ale-web-je-stary","title":"Probl\u00e9m: Actions zelen\u00e9, ale web je star\u00fd","text":""},{"location":"how-to/ci-cd-mkdocs-pages/#jak-to-vypada","title":"Jak to vypad\u00e1","text":"<ul> <li>V\u011btve <code>gh-pages</code> p\u0159ibyl nov\u00fd commit, ale na URL vid\u00edm star\u00fd obsah.</li> </ul>"},{"location":"how-to/ci-cd-mkdocs-pages/#nejcastejsi-priciny-rychly-fix","title":"Nej\u010dast\u011bj\u0161\u00ed p\u0159\u00ed\u010diny + rychl\u00fd fix","text":"<p>1) Zdroj Pages neodpov\u00edd\u00e1 zp\u016fsobu deploye    - Deploy: <code>mkdocs gh-deploy</code> pos\u00edl\u00e1 do v\u011btve <code>gh-pages</code>.    - Pages mus\u00ed \u010d\u00edst: Deploy from a branch \u2192 gh-pages \u2192 /.    - Fix: Settings \u2192 Pages \u2192 Source p\u0159epnout na <code>gh-pages</code> a ulo\u017eit.</p> <p>2) Cache prohl\u00ed\u017ee\u010de / CDN    - Fix: tvrd\u00fd refresh (Ctrl/Cmd+F5) nebo p\u0159idej <code>?_cb=YYYYMMDDHHMM</code> za URL, nap\u0159. <code>\u2026/ot-it-docs/?_cb=20250813</code>.    - P\u0159\u00edpadn\u011b vy\u010disti ulo\u017een\u00e1 data pro dan\u00fd web.</p> <p>3) Chyb\u00ed <code>.nojekyll</code>    - MkDocs ho p\u0159id\u00e1v\u00e1 automaticky. Fix: zkontroluj v rootu v\u011btve <code>gh-pages</code>, p\u0159\u00edpadn\u011b nasadit znovu.</p> <p>4) M\u00ed\u0161ma\u0161 dvou strategi\u00ed    - Bu\u010f nasazuj do branch <code>gh-pages</code>, nebo pou\u017e\u00edvej Pages artifact. Nem\u00edchat.    - Pro verzov\u00e1n\u00ed s <code>mike</code> je lep\u0161\u00ed <code>gh-pages</code> (branch).</p>"},{"location":"how-to/ci-cd-mkdocs-pages/#kontrolni-checklist","title":"Kontroln\u00ed checklist","text":"<ul> <li>[ ] Settings \u2192 Pages: Source = Deploy from a branch, Branch = <code>gh-pages</code>, Folder = <code>/</code>.</li> <li>[ ] V\u011btvi <code>gh-pages</code> p\u0159ibyl \u010derstv\u00fd commit.</li> <li>[ ] Po p\u0159id\u00e1n\u00ed <code>?_cb=&lt;n\u011bco&gt;</code> na URL je vid\u011bt nov\u00e1 zm\u011bna.</li> </ul>"},{"location":"how-to/ci-cd-mkdocs-pages/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Actions: posledn\u00ed b\u011bh \u201eDeploy MkDocs to GitHub Pages\u201c je zelen\u00fd.</li> <li>V\u011btev <code>gh-pages</code>: p\u0159ibyl nov\u00fd commit (\u010das te\u010f).</li> <li>Pages \u2192 Source: <code>Deploy from a branch \u2192 gh-pages \u2192 /</code>.</li> <li>Web: <code>https://&lt;user&gt;.github.io/ot-it-docs/</code> se na\u010dte; lupa vyhled\u00e1v\u00e1; nov\u00e1 zm\u011bna je vid\u011bt i s <code>?_cb=&lt;timestamp&gt;</code>.</li> </ul>"},{"location":"how-to/ci-cd-mkdocs-pages/#rollback","title":"Rollback","text":"<ul> <li>Vr\u00e1cen\u00ed obsahu: v GitHubu na posledn\u00edm commitu klikni Revert \u2192 push do <code>main</code> (Actions nasad\u00ed zp\u011bt).</li> <li>Do\u010dasn\u00e9 zastaven\u00ed deploye: Actions \u2192 otev\u0159i workflow \u2192 \u2026 \u2192 Disable workflow (zapni po oprav\u011b).</li> <li>Obnova posledn\u00edho OK buildu: Actions \u2192 najdi posledn\u00ed zelen\u00fd b\u011bh \u2192 Re-run jobs (p\u0159egeneruje web z tehdej\u0161\u00edho stavu).</li> </ul>"},{"location":"how-to/esp32-micropython-mqtt/","title":"How-to \u2014 ESP32 \u2192 MQTT v Pythonu (MicroPython)","text":"<p>Status: stable Slug: how-to/esp32-micropython-mqtt</p>"},{"location":"how-to/esp32-micropython-mqtt/#cil","title":"C\u00edl","text":"<p>Bez Arduino/C++ a bez kouzel. Na\u010dteme MicroPython do ESP32 (v\u010detn\u011b varianty ESP32\u2011S3), p\u0159ipoj\u00edme Wi\u2011Fi a po\u0161leme MQTT zpr\u00e1vy do lok\u00e1ln\u00edho Mosquitta s LWT a retain tam, kde to d\u00e1v\u00e1 smysl.</p>"},{"location":"how-to/esp32-micropython-mqtt/#0-co-budeme-potrebovat","title":"0) Co budeme pot\u0159ebovat","text":"<ul> <li>Windows 11 (funguje i macOS/Linux; p\u0159\u00edklady n\u00ed\u017ee jsou pro Windows).</li> <li>USB kabel s daty (ne \u201ejen nab\u00edjec\u00ed\u201c).</li> <li>Ovlada\u010d USB\u2011UART: nej\u010dast\u011bji CP210x nebo CH340 (nainstaluj, a\u0165 se objev\u00ed COM port v Spr\u00e1vci za\u0159\u00edzen\u00ed).</li> <li>Python 3.10+ (kv\u016fli n\u00e1stroj\u016fm) a bal\u00ed\u010dky:   <pre><code>py -m pip install --upgrade esptool mpremote\n</code></pre></li> <li>Firmware MicroPython pro tv\u016fj \u010dip:</li> <li>ESP32 (classic/ESP32\u2011D0WD) \u2192 soubor esp32-*.bin</li> <li>ESP32\u2011S3 \u2192 soubor esp32s3-*.bin</li> <li>St\u00e1hni stabiln\u00ed verzi pro sv\u016fj \u010dip; soubor ulo\u017e t\u0159eba do C:\\firmware\\esp32.</li> </ul>"},{"location":"how-to/esp32-micropython-mqtt/#1-flash-micropython-do-esp32","title":"1) Flash MicroPython do ESP32","text":""},{"location":"how-to/esp32-micropython-mqtt/#varianta-a-jednim-klikem-pres-thonny-nejjednodussi","title":"Varianta A \u2014 Jedn\u00edm klikem p\u0159es Thonny (nejjednodu\u0161\u0161\u00ed)","text":"<ul> <li>Nainstaluj Thonny.</li> <li>P\u0159ipoj ESP32 k PC (u S3 \u010dasto dr\u017e BOOT p\u0159i zasunut\u00ed USB; pokud nic, zkus BOOT podr\u017eet a kr\u00e1tce \u0165uknout EN/RST).</li> <li>V Thonny: Run \u2192 Select interpreter \u2192 MicroPython (ESP32).</li> <li>Klikni Install or update MicroPython \u2192 vyber spr\u00e1vn\u00e9 za\u0159\u00edzen\u00ed (COMx) a firmware pro ESP32 nebo ESP32\u2011S3 \u2192 Install.</li> <li>Po instalaci bys m\u011bl v Thonny dole vid\u011bt MicroPython vX.Y on ... a REPL &gt;&gt;&gt;.</li> </ul>"},{"location":"how-to/esp32-micropython-mqtt/#varianta-b-esptoolpy-terminal-plna-kontrola","title":"Varianta B \u2014 esptool.py (termin\u00e1l, pln\u00e1 kontrola)","text":"<ul> <li>Zjisti COM port: Spr\u00e1vce za\u0159\u00edzen\u00ed \u2192 Porty (COM &amp; LPT) (nap\u0159. COM7).</li> <li>Pozn.: ESP32\u2011S3 \u2013 kdy\u017e se neda\u0159\u00ed p\u0159epnout do bootloaderu, dr\u017e BOOT a klikej kr\u00e1tce EN/RST; p\u0159\u00edpadn\u011b vyzkou\u0161ej jin\u00fd USB port/kabel.</li> <li>Sma\u017e flash (doporu\u010deno p\u0159i prvn\u00ed instalaci):   <pre><code>py -m esptool --chip esp32s3 --port COM7 --baud 460800 erase_flash\n</code></pre></li> <li>Nahraj firmware (nahra\u010f cestu a n\u00e1zev .bin):   <pre><code>py -m esptool --chip esp32s3 --port COM7 --baud 460800 ^\n  write_flash -z 0x0 C:\\firmware\\esp32\\esp32s3-2024xxxx-vx.y.z.bin\n</code></pre></li> <li>Pro \u201ene\u2011S3\u201c pou\u017eij --chip esp32 a odpov\u00eddaj\u00edc\u00ed esp32-*.bin.</li> </ul>"},{"location":"how-to/esp32-micropython-mqtt/#2-prvni-pripojeni-a-nahrani-souboru","title":"2) Prvn\u00ed p\u0159ipojen\u00ed a nahr\u00e1n\u00ed soubor\u016f","text":"<p>M\u00e1me dv\u011b rychl\u00e9 cesty: Thonny (editor + nahr\u00e1v\u00e1n\u00ed) nebo mpremote (CLI).</p>"},{"location":"how-to/esp32-micropython-mqtt/#a-thonny","title":"A) Thonny","text":"<ul> <li>Vlevo je Files \u2192 p\u0159epni na za\u0159\u00edzen\u00ed a nahraj soubory boot.py/main.py.</li> <li>Spou\u0161t\u00ed se automaticky boot.py a potom main.py.</li> </ul>"},{"location":"how-to/esp32-micropython-mqtt/#b-mpremote-doporucene-pro-skriptovani","title":"B) mpremote (doporu\u010den\u00e9 pro skriptov\u00e1n\u00ed)","text":"<ul> <li>Najdi port (nap\u0159. COM7) a spus\u0165:   <pre><code># Shell na za\u0159\u00edzen\u00ed (REPL):\nmpremote connect COM7\n# Nebo p\u0159\u00edmo nakop\u00edruj soubor:\nmpremote connect COM7 fs cp main.py :main.py\nmpremote connect COM7 reset\n</code></pre></li> <li>fs cp  : kop\u00edruje na flash za\u0159\u00edzen\u00ed."},{"location":"how-to/esp32-micropython-mqtt/#3-mqtt-v-micropythonu-lwt-retain-telemetrie","title":"3) MQTT v MicroPythonu (LWT + retain + telemetrie)","text":"<p>Vytvo\u0159 main.py (uprav Wi\u2011Fi/MQTT prom\u011bnn\u00e9):</p> <pre><code># main.py \u2014 MicroPython (ESP32 / ESP32\u2011S3)\nimport network, time\nfrom umqtt.simple import MQTTClient\nimport ubinascii, machine\n\n# === Nastaven\u00ed (uprav) ===\nWIFI_SSID   = \"&lt;wifi-ssid&gt;\"\nWIFI_PASS   = \"&lt;wifi-pass&gt;\"\nMQTT_HOST   = \"&lt;ip-nebo-host-brokera&gt;\"   # nap\u0159. \"192.168.1.100\" nebo \"raspberrypi\"\nMQTT_PORT   = 1883\nORG, SITE, DEV = \"home\", \"lab\", \"esp32-01\"\nCLIENT_ID   = b\"esp32-01\"  # mus\u00ed b\u00fdt unik\u00e1tn\u00ed\n\n# === Topics ===\ntele = lambda metric: f\"v1/{ORG}/{SITE}/{DEV}/tele/{metric}\".encode()\nmeta = lambda key:    f\"v1/{ORG}/{SITE}/{DEV}/meta/{key}\".encode()\n\n# === Wi\u2011Fi p\u0159ipojen\u00ed ===\nsta = network.WLAN(network.STA_IF)\nsta.active(True)\nif not sta.isconnected():\n    sta.connect(WIFI_SSID, WIFI_PASS)\n    t0 = time.ticks_ms()\n    while not sta.isconnected():\n        if time.ticks_diff(time.ticks_ms(), t0) &gt; 15000:\n            raise RuntimeError(\"Wi\u2011Fi timeout\")\n        time.sleep_ms(200)\nprint(\"Wi\u2011Fi:\", sta.ifconfig())\n\n# === MQTT klient ===\nstatus_topic = meta(\"status\")\nclient = MQTTClient(client_id=CLIENT_ID, server=MQTT_HOST, port=MQTT_PORT, keepalive=60)\nclient.set_last_will(status_topic, b\"OFFLINE\", retain=True, qos=0)\nclient.connect()\nclient.publish(status_topic, b\"ONLINE\", retain=True, qos=0)\n\n# === Hlavn\u00ed smy\u010dka \u2014 ka\u017ed\u00fdch 5 s po\u0161li \u201eteplotu\u201c ===\ntry:\n    t0 = time.ticks_ms()\n    while True:\n        # dummy hodnota 20.00\u201329.99\n        v = 20.0 + (time.ticks_ms() % 10000) / 1000.0\n        payload = f\"{v:.2f}\".encode()\n        client.publish(tele(\"temperature\"), payload, retain=False, qos=0)\n        # udr\u017euj spojen\u00ed p\u0159i \u017eivot\u011b\n        client.ping()\n        time.sleep(5)\nexcept Exception as e:\n    # p\u0159i p\u00e1du nech\u00e1me broker doru\u010dit LWT=OFFLINE\n    print(\"ERR:\", e)\n    machine.reset()\n</code></pre> <p>Pozn.: umqtt.simple je standardn\u00ed lehk\u00fd klient v MicroPythonu. M\u00e1 publish(topic, msg, retain=False, qos=0) a set_last_will(topic, msg, retain, qos).</p>"},{"location":"how-to/esp32-micropython-mqtt/#4-overeni-mqtt-explorer","title":"4) Ov\u011b\u0159en\u00ed (MQTT Explorer)","text":"<ul> <li>P\u0159ipoj se na localhost:1883 (bez TLS, bez user/pass, pokud jede\u0161 LAB profil).</li> <li>Subscribe na v1/# nebo p\u0159\u00edmo v1/home/lab/esp32-01/tele/temperature.</li> <li>Po resetu ESP32 uvid\u00ed\u0161 na .../meta/status hodnotu ONLINE (retained). Kdy\u017e za\u0159\u00edzen\u00ed odpoj\u00ed\u0161 (nebo spadne), broker zve\u0159ejn\u00ed OFFLINE (retained).</li> </ul>"},{"location":"how-to/esp32-micropython-mqtt/#5-troubleshooting-zkusenosti-z-praxe","title":"5) Troubleshooting (zku\u0161enosti z praxe)","text":"Probl\u00e9m Co zkusit Nevid\u00edm COM port Doinstaluj CP210x/CH340 ovlada\u010d; vym\u011b\u0148 USB kabel/port; u S3 podr\u017e BOOT p\u0159i p\u0159ipojen\u00ed. esptool h\u00e1z\u00ed sync chyby Sni\u017e baud (115200), dr\u017e BOOT a \u0165ukni EN/RST, zkontroluj spr\u00e1vn\u00fd --chip a bin pro S3 vs. non\u2011S3. Thonny neinstaluje firmware Zvol spr\u00e1vn\u00fd port a typ desky (ESP32 vs. ESP32\u2011S3), zav\u0159i ostatn\u00ed seriov\u00e9 programy. Wi\u2011Fi \u201econnected\u201c ale bez IP Zkontroluj SSID/heslo a kan\u00e1l; n\u011bkter\u00e9 5\u202fGHz s\u00edt\u011b ESP32 neum\u00ed (p\u0159ejdi na 2.4\u202fGHz). MQTT publish \u201enic ned\u011bl\u00e1\u201c Ov\u011b\u0159 IP/hostname brokera, port 1883, t\u00e9mata mus\u00ed sed\u011bt; za\u010dni s QoS 0. Dvoj\u00ed p\u0159ipojen\u00ed \u2192 odpojov\u00e1n\u00ed Unik\u00e1tn\u00ed CLIENT_ID pro ka\u017ed\u00e9 za\u0159\u00edzen\u00ed."},{"location":"how-to/esp32-micropython-mqtt/#6-alternativa-esphome-yaml-bez-kodu","title":"6) Alternativa: ESPHome (YAML, bez k\u00f3du)","text":"<p>Kdy\u017e nechce\u0161 ps\u00e1t Python, pou\u017eij ESPHome: - Vytvo\u0159 YAML s Wi\u2011Fi a mqtt: blokem. - P\u0159idej senzor (nap\u0159. sensor: - platform: template ...) a mqtt publika\u010dn\u00ed n\u00e1zev. - Prvn\u00ed flash p\u0159es USB, dal\u0161\u00ed u\u017e OTA. - ESPHome je skv\u011bl\u00e9 na rychl\u00e9 prototypy a dom\u00e1c\u00ed automatizaci; MicroPython je svobodn\u011bj\u0161\u00ed pro vlastn\u00ed logiku.</p>"},{"location":"how-to/esp32-micropython-mqtt/#rychla-karta-rozhodnuti","title":"Rychl\u00e1 karta rozhodnut\u00ed","text":"Chci... Doporu\u010den\u00fd postup Nejrychlej\u0161\u00ed start bez IDE Thonny + MicroPython (tento n\u00e1vod) Ni\u017e\u0161\u00ed overhead a p\u0159esnou kontrolu nad pam\u011bt\u00ed Arduino/C++ Zero\u2011code konfiguraci a OTA ESPHome"},{"location":"how-to/esp32-mqtt-varianty/","title":"ESP32 \u2192 MQTT \u2014 varianty a checklist","text":"<p>Status: stable Slug: how-to/esp32-mqtt-varianty</p>"},{"location":"how-to/esp32-mqtt-varianty/#prehled-variant","title":"P\u0159ehled variant","text":"Varianta V\u00fdhody Odkaz na n\u00e1vod MicroPython Rychl\u00fd start, jednoduch\u00fd k\u00f3d MicroPython ESPHome YAML, OTA, bez k\u00f3du ESPHome Tasmota WebUI, pravidla, OTA Tasmota PlatformIO/Arduino Pln\u00e1 kontrola, knihovny PlatformIO/Arduino"},{"location":"how-to/esp32-mqtt-varianty/#checklist-pro-realizaci","title":"Checklist pro realizaci","text":"<ul> <li>[ ] Zvolen\u00e1 varianta je nahran\u00e1 na ESP32</li> <li>[ ] MQTT broker b\u011b\u017e\u00ed (viz Mosquitto LAB profil)</li> <li>[ ] ESP32 publikuje LWT (<code>.../meta/status</code>, retained)</li> <li>[ ] ESP32 publikuje telemetrii (<code>.../tele/temperature</code>, ka\u017ed\u00fdch 5 s, QoS 0, retain false)</li> <li>[ ] Node-RED dashboard zobrazuje data do 2 s</li> </ul>"},{"location":"how-to/esp32-mqtt-varianty/#ready-to-run-odkazy","title":"Ready-to-run odkazy","text":"<ul> <li>How-to: ESP32 \u2192 MQTT (MicroPython)</li> <li>How-to: ESP32 \u2192 MQTT (ESPHome)</li> <li>How-to: ESP32 \u2192 MQTT (Tasmota)</li> <li>How-to: ESP32 \u2192 MQTT (PlatformIO/Arduino)</li> </ul>"},{"location":"how-to/esp32-mqtt/","title":"How-to \u2014 ESP32 \u2192 MQTT (mini-sketch)","text":"<p>Status: stable Slug: how-to/esp32-mqtt</p>"},{"location":"how-to/esp32-mqtt/#prvni-funkcni-publikacni-sketch-pro-esp32-mosquitto-s-lwt-a-zakladni-konvenci-topicu","title":"Prvn\u00ed funk\u010dn\u00ed publika\u010dn\u00ed sketch pro ESP32 \u2192 Mosquitto s LWT a z\u00e1kladn\u00ed konvenc\u00ed topic\u016f","text":""},{"location":"how-to/esp32-mqtt/#konvence-topicu-minimum","title":"Konvence topic\u016f (minimum)","text":"<p><pre><code>v1/&lt;org&gt;/&lt;site&gt;/&lt;device&gt;/&lt;channel&gt;/&lt;metric&gt;\n# P\u0159\u00edklad\nv1/home/lab/esp32-01/tele/temperature\n</code></pre> - QoS: 0 (start) - retain: jen pro \u201eposledn\u00ed zn\u00e1m\u00fd stav\u201c</p> <p>LWT: - <code>v1/&lt;...&gt;/meta/status</code> \u2192 OFFLINE (retained), p\u0159i p\u0159ipojen\u00ed publikuj ONLINE (retained).</p>"},{"location":"how-to/esp32-mqtt/#knihovny","title":"Knihovny","text":"<ul> <li><code>WiFi.h</code></li> <li><code>PubSubClient</code> (Arduino Library Manager)</li> </ul>"},{"location":"how-to/esp32-mqtt/#konfigurace-nahrad-podle-sebe","title":"Konfigurace (nahra\u010f podle sebe)","text":"<pre><code>#include &lt;WiFi.h&gt;\n#include &lt;PubSubClient.h&gt;\n\n// --- Wi\u2011Fi &amp; MQTT ---\nconst char* WIFI_SSID     = \"&lt;ssid&gt;\";\nconst char* WIFI_PASS     = \"&lt;pass&gt;\";\nconst char* MQTT_HOST     = \"&lt;broker-ip-nebo-hostname&gt;\"; // nap\u0159. 192.168.1.100 nebo \"raspberrypi\"\nconst uint16_t MQTT_PORT  = 1883;\nconst char* CLIENT_ID     = \"esp32-01\"; // unik\u00e1tn\u00ed\n\n// --- Namespace ---\nconst char* ORG   = \"home\";   // org/site/device jen p\u0159\u00edklad\nconst char* SITE  = \"lab\";\nconst char* DEV   = \"esp32-01\";\n\nString tTele(const char* metric){ return String(\"v1/\")+ORG+\"/\"+SITE+\"/\"+DEV+\"/tele/\"+metric; }\nString tMeta(const char* key){ return String(\"v1/\")+ORG+\"/\"+SITE+\"/\"+DEV+\"/meta/\"+key; }\n\nWiFiClient wifi;\nPubSubClient mqtt(wifi);\n\nunsigned long lastPub = 0;\n\nvoid connectWifi(){\n    WiFi.mode(WIFI_STA);\n    WiFi.begin(WIFI_SSID, WIFI_PASS);\n    while(WiFi.status()!=WL_CONNECTED) { delay(400); }\n}\n\nvoid ensureMqtt(){\n    while(!mqtt.connected()){\n        // LWT \u2192 OFFLINE (retained)\n        String willTopic = tMeta(\"status\");\n        const char* willMsg = \"OFFLINE\";\n        mqtt.setServer(MQTT_HOST, MQTT_PORT);\n        if(mqtt.connect(CLIENT_ID, NULL, NULL, willTopic.c_str(), 0, true, willMsg)){\n            // ONLINE (retained)\n            mqtt.publish(willTopic.c_str(), \"ONLINE\", true);\n        } else {\n            delay(1000);\n        }\n    }\n}\n\nvoid setup(){\n    connectWifi();\n    mqtt.setKeepAlive(60);\n    ensureMqtt();\n}\n\nvoid loop(){\n    if(WiFi.status()!=WL_CONNECTED) connectWifi();\n    if(!mqtt.connected()) ensureMqtt();\n    mqtt.loop();\n\n    unsigned long now = millis();\n    if(now - lastPub &gt; 5000){\n        lastPub = now;\n        // Dummy \u201eteplota\u201c (nahra\u010f re\u00e1ln\u00fdm \u010didlem)\n        float value = 20.0 + (now % 1000)/100.0;\n        char buf[32];\n        dtostrf(value, 0, 2, buf);\n        String topic = tTele(\"temperature\");\n        mqtt.publish(topic.c_str(), buf, false); // QoS 0, retain false\n    }\n}\n</code></pre>"},{"location":"how-to/esp32-mqtt/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>MQTT Explorer: subscribe na <code>v1/#</code> nebo p\u0159esn\u011b na <code>v1/home/lab/esp32-01/tele/temperature</code>.</li> <li>Po resetu ESP32: na .../meta/status uvid\u00ed\u0161 ONLINE; po odpojen\u00ed (kill Wi\u2011Fi / vypni ESP) se objev\u00ed OFFLINE (retained).</li> </ul>"},{"location":"how-to/esp32-mqtt/#nejcastejsi-potize","title":"Nej\u010dast\u011bj\u0161\u00ed pot\u00ed\u017ee","text":"<ul> <li>\u0160patn\u00e1 IP/hostname brokera \u2192 ESP32 nikdy connected().</li> <li>Duplikovan\u00e9 CLIENT_ID \u2192 broker dropne jedno z p\u0159ipojen\u00ed.</li> <li>Nestabiln\u00ed Wi\u2011Fi \u2192 prodlu\u017e keepalive v Mosquittu i v klientovi.     # ...konec str\u00e1nky, duplicitn\u00ed blok odstran\u011bn...</li> <li>Nakonfiguruj ESP32 pro p\u0159ipojen\u00ed k WiFi a MQTT brokeru.</li> <li>Odes\u00edlej data (nap\u0159. teplotu) do t\u00e9matu <code>test/sensor/temperature</code>.</li> </ul>"},{"location":"how-to/esp32-mqtt/#overeni_1","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Data z ESP32 jsou vid\u011bt v MQTT Exploreru</li> </ul>"},{"location":"how-to/esphome-esp32-mqtt/","title":"How-to \u2014 ESP32 \u2192 MQTT (ESPHome)","text":"<p>Status: stable Slug: how-to/esphome-esp32-mqtt</p>"},{"location":"how-to/esphome-esp32-mqtt/#cil","title":"C\u00edl","text":"<p>Rychl\u00fd start s ESPHome pro ESP32: Wi-Fi, MQTT, LWT, telemetrie ka\u017ed\u00fdch 5 s, v\u0161e v YAML.</p>"},{"location":"how-to/esphome-esp32-mqtt/#zakladni-konfigurace-esp32-01yaml","title":"Z\u00e1kladn\u00ed konfigurace (esp32-01.yaml)","text":"<pre><code>esphome:\n  name: esp32-01\n  platform: ESP32\n  board: esp32dev\nwifi:\n  ssid: !secret wifi_ssid\n  password: !secret wifi_pass\nota:\nlogger:\n  level: INFO\nmqtt:\n  broker: 192.168.1.100\n  port: 1883\n  client_id: esp32-01\n  topic_prefix: v1/home/lab/esp32-01\n  birth_message:\n    topic: v1/home/lab/esp32-01/meta/status\n    payload: ONLINE\n    retain: true\n  will_message:\n    topic: v1/home/lab/esp32-01/meta/status\n    payload: OFFLINE\n    retain: true\nsensor:\n  - platform: template\n    name: \"Dummy temperature\"\n    id: dummy_temp\n    unit_of_measurement: \"\u00b0C\"\n    update_interval: 5s\n    lambda: |-\n      return 20.0 + (millis() % 10000) / 1000.0;\n    on_value:\n      then:\n        - mqtt.publish:\n            topic: v1/home/lab/esp32-01/tele/temperature\n            payload: !lambda |-\n              char buf[16];\n              snprintf(buf, sizeof(buf), \"%.2f\", id(dummy_temp).state);\n              return std::string(buf);\n            qos: 0\n            retain: false\n</code></pre>"},{"location":"how-to/esphome-esp32-mqtt/#prvni-flash-usb-ota","title":"Prvn\u00ed flash (USB) \u2192 OTA","text":"<ul> <li>P\u0159ipoj ESP32 p\u0159es USB.</li> <li>Spus\u0165:   <pre><code>esphome run esp32-01.yaml\n</code></pre></li> <li>Prvn\u00ed flash prob\u011bhne p\u0159es USB, dal\u0161\u00ed u\u017e m\u016f\u017ee\u0161 d\u011blat OTA.</li> </ul>"},{"location":"how-to/esphome-esp32-mqtt/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>MQTT Explorer: subscribe na <code>v1/home/lab/esp32-01/#</code>.</li> <li>Na topicu <code>.../meta/status</code> uvid\u00ed\u0161 ONLINE/OFFLINE (retained).</li> <li>Ka\u017ed\u00fdch 5 s se publikuje teplota na <code>.../tele/temperature</code>.</li> </ul>"},{"location":"how-to/esphome-esp32-mqtt/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Pokud se ESP32 nep\u0159ipoj\u00ed, zkontroluj Wi-Fi \u00fadaje a MQTT broker.</li> <li>Pro OTA mus\u00ed b\u00fdt za\u0159\u00edzen\u00ed ve stejn\u00e9 s\u00edti.</li> <li>Pokud pot\u0159ebuje\u0161 <code>retain</code> pro jin\u00fd topic, p\u0159idej <code>retain: true</code> do publish.</li> </ul>"},{"location":"how-to/how-to/","title":"\u00davod do sekce How-to","text":"<p>V\u00edtej v sekci praktick\u00fdch n\u00e1vod\u016f (How-to) pro OT/IT laborato\u0159!</p> <p>Tato \u010d\u00e1st dokumentace je ur\u010dena v\u0161em, kdo cht\u011bj\u00ed rychle a efektivn\u011b zvl\u00e1dnout konkr\u00e9tn\u00ed \u00fakoly v oblasti pr\u016fmyslov\u00e9 automatizace, IoT a IT integrace. Najde\u0161 zde:</p> <ul> <li>Krok za krokem n\u00e1vody na instalaci, konfiguraci a propojen\u00ed technologi\u00ed (Docker, MQTT, Node-RED, InfluxDB, bezpe\u010dnost, CI/CD...)</li> <li>Ov\u011b\u0159en\u00e9 postupy z re\u00e1ln\u00fdch projekt\u016f a laboratorn\u00edch cvi\u010den\u00ed</li> <li>Tipy na \u0159e\u0161en\u00ed probl\u00e9m\u016f a doporu\u010den\u00e9 best practices</li> <li>\u0160ablony pro vlastn\u00ed roz\u0161i\u0159ov\u00e1n\u00ed dokumentace</li> </ul>"},{"location":"how-to/how-to/#pro-koho-je-sekce-urcena","title":"Pro koho je sekce ur\u010dena?","text":"<ul> <li>Pro studenty, kte\u0159\u00ed za\u010d\u00ednaj\u00ed s OT/IT integrac\u00ed</li> <li>Pro techniky a v\u00fdvoj\u00e1\u0159e, kte\u0159\u00ed cht\u011bj\u00ed rychle nasadit a propojit jednotliv\u00e9 komponenty</li> <li>Pro ka\u017ed\u00e9ho, kdo hled\u00e1 srozumiteln\u00e9 a funk\u010dn\u00ed postupy</li> </ul>"},{"location":"how-to/how-to/#jak-sekci-pouzivat","title":"Jak sekci pou\u017e\u00edvat?","text":"<ol> <li>Vyber si t\u00e9ma, kter\u00e9 t\u011b zaj\u00edm\u00e1 (viz menu vlevo)</li> <li>Postupuj podle n\u00e1vodu krok za krokem</li> <li>Pokud naraz\u00ed\u0161 na probl\u00e9m, zkus nejprve tipy v dan\u00e9m n\u00e1vodu nebo se vra\u0165 k z\u00e1klad\u016fm</li> <li>P\u0159isp\u011bj vlastn\u00edm vylep\u0161en\u00edm nebo nov\u00fdm n\u00e1vodem!</li> </ol> <p>Ka\u017ed\u00fd \u00fasp\u011b\u0161n\u011b dokon\u010den\u00fd n\u00e1vod t\u011b posune bl\u00ed\u017e k ovl\u00e1dnut\u00ed OT/IT sv\u011bta. Za\u010dni hned te\u010f!</p>"},{"location":"how-to/influxdb-instalace/","title":"How-to: InfluxDB instalace","text":"<p>N\u00e1vod na instalaci a z\u00e1kladn\u00ed konfiguraci InfluxDB v Dockeru.</p>"},{"location":"how-to/influxdb-instalace/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Docker a Docker Compose</li> </ul>"},{"location":"how-to/influxdb-instalace/#postup","title":"Postup","text":"<ol> <li>P\u0159idej slu\u017ebu <code>influxdb</code> do <code>docker-compose.yml</code>.</li> <li>Spus\u0165 InfluxDB:    <pre><code>docker compose up -d influxdb\n</code></pre></li> <li>Otev\u0159i web UI na http://localhost:8086 a nastav organizaci a bucket.</li> </ol>"},{"location":"how-to/influxdb-instalace/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Lze zapisovat a \u010d\u00edst data p\u0159es API nebo UI</li> </ul>"},{"location":"how-to/instalace-docker-compose/","title":"How-to: Instalace Docker + Compose","text":"<p>Tento n\u00e1vod popisuje instalaci Docker Desktop a Docker Compose na Windows 10/11 s WSL2.</p>"},{"location":"how-to/instalace-docker-compose/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Windows 10 (build 19041+) nebo Windows 11</li> <li>Administr\u00e1torsk\u00fd p\u0159\u00edstup</li> <li>Stabiln\u00ed internet</li> </ul>"},{"location":"how-to/instalace-docker-compose/#postup","title":"Postup","text":"<ol> <li>Otev\u0159i PowerShell jako spr\u00e1vce a spus\u0165:    <pre><code>wsl --install\n</code></pre></li> <li>Po restartu spus\u0165 nov\u011b nainstalovanou Linux distribuci (nap\u0159. Ubuntu) a nastav u\u017eivatelsk\u00e9 jm\u00e9no a heslo.</li> <li>St\u00e1hni a nainstaluj Docker Desktop z docker.com/products/docker-desktop.</li> <li>B\u011bhem instalace za\u0161krtni \"Use the WSL 2 based engine\".</li> <li>Po instalaci spus\u0165 Docker Desktop a v Settings \u2192 Resources \u2192 WSL Integration povol svou Linux distribuci.</li> <li>Ov\u011b\u0159 instalaci:    <pre><code>docker version\ndocker compose version\ndocker run hello-world\n</code></pre></li> </ol>"},{"location":"how-to/instalace-docker-compose/#rollback-odinstalace","title":"Rollback / Odinstalace","text":"<ul> <li>Odinstaluj Docker Desktop z Nastaven\u00ed \u2192 Aplikace</li> <li>Odinstaluj Linux distribuci p\u0159es Microsoft Store \u2192 Moje knihovna</li> <li>Vypni WSL a Virtual Machine Platform:    <pre><code>dism.exe /online /disable-feature /featurename:Microsoft-Windows-Subsystem-Linux\ndism.exe /online /disable-feature /featurename:VirtualMachinePlatform\n</code></pre></li> </ul>"},{"location":"how-to/instalace-mosquitto/","title":"How-to: Instalace Mosquitto","text":"<p>Tento n\u00e1vod popisuje instalaci MQTT brokeru Mosquitto v Dockeru.</p>"},{"location":"how-to/instalace-mosquitto/#predpoklady","title":"P\u0159edpoklady","text":""},{"location":"how-to/instalace-mosquitto/#postup","title":"Postup","text":"<pre><code>docker compose up -d mosquitto\n</code></pre>"},{"location":"how-to/instalace-mosquitto/#overeni","title":"Ov\u011b\u0159en\u00ed","text":""},{"location":"how-to/instalace-mosquitto/#rollback","title":"Rollback","text":"<pre><code>docker compose down\n</code></pre>"},{"location":"how-to/instalace-mosquitto/#instalace-mosquitto-stub","title":"Instalace Mosquitto (stub)","text":"<p>Tato str\u00e1nka byla nahrazena. Aktu\u00e1ln\u00ed n\u00e1vod najde\u0161 v Mosquitto \u2013 lok\u00e1ln\u00ed v\u00fdvojov\u00fd profil. - Zastaven\u00ed a smaz\u00e1n\u00ed kontejneru:</p>"},{"location":"how-to/instalace-node-red/","title":"How-to: Instalace Node-RED","text":"<p>Tento n\u00e1vod popisuje instalaci Node-RED v Dockeru.</p>"},{"location":"how-to/instalace-node-red/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Docker a Docker Compose</li> </ul>"},{"location":"how-to/instalace-node-red/#postup","title":"Postup","text":"<ol> <li>P\u0159idej slu\u017ebu <code>node-red</code> do <code>docker-compose.yml</code>.</li> <li>Spus\u0165 Node-RED:    <pre><code>docker compose up -d node-red\n</code></pre></li> <li>Otev\u0159i webov\u00e9 rozhran\u00ed na http://localhost:1880</li> </ol>"},{"location":"how-to/instalace-node-red/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Web UI je dostupn\u00e9</li> <li>Lze vytvo\u0159it a deploynout flow</li> </ul>"},{"location":"how-to/instalace-node-red/#rollback","title":"Rollback","text":"<ul> <li>Zastaven\u00ed a smaz\u00e1n\u00ed kontejneru:    <pre><code>docker compose down\n</code></pre></li> </ul>"},{"location":"how-to/lab-quickstart-60s/","title":"Lab Quickstart (60 s) \u2014 Docker Compose","text":"<p>Jednou v\u011btou</p> <p>Spus\u0165 Mosquitto a Node\u2011RED v Dockeru \u2192 otestuj payload \u2192 otev\u0159i dashboard.</p> <p>Tento postup vych\u00e1z\u00ed z ADR 0002: Docker stack jako v\u00fdchoz\u00ed prost\u0159ed\u00ed.</p>"},{"location":"how-to/lab-quickstart-60s/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Nainstalovan\u00fd Docker Desktop + WSL2 (n\u00e1vod zde)</li> <li>P\u0159ipraven\u00fd adres\u00e1\u0159 s <code>docker-compose.yml</code> (viz Sprint 0)</li> </ul>"},{"location":"how-to/lab-quickstart-60s/#kroky","title":"Kroky","text":"<ol> <li> <p>Spus\u0165 lab stack    V adres\u00e1\u0159i s <code>docker-compose.yml</code> spus\u0165:    <pre><code>docker compose up -d\n</code></pre>    (Spust\u00ed Mosquitto a Node-RED v kontejnerech.)</p> </li> <li> <p>Ov\u011b\u0159 b\u011bh slu\u017eeb <pre><code>docker ps\n</code></pre>    M\u011bl bys vid\u011bt oba kontejnery (mosquitto, nodered) a porty 1883, 1880.</p> </li> <li> <p>Test payload (MQTT Explorer nebo WSL2)</p> </li> <li>P\u0159ipoj se v MQTT Exploreru na <code>localhost:1883</code>.</li> <li>Subscribe na topic: <code>v1/home/lab/esp32-01/tele/temperature</code></li> <li>Publish na stejn\u00fd topic, payload:      <pre><code>{\"ts\": 1734300000, \"value\": 23.7, \"unit\": \"C\"}\n</code></pre></li> <li> <p>Alternativn\u011b z WSL2:      <code>bash    mosquitto_pub -h localhost -t v1/home/lab/esp32-01/tele/temperature -m '{\"ts\": 1734300000, \"value\": 23.7, \"unit\": \"C\"}'</code></p> </li> <li> <p>Dashboard</p> </li> <li>Otev\u0159i http://localhost:1880/ui a zkontroluj graf + text.</li> </ol>"},{"location":"how-to/lab-quickstart-60s/#co-delat-kdyz-to-neukaze-data","title":"Co d\u011blat, kdy\u017e to neuk\u00e1\u017ee data","text":"<ul> <li>P\u0159idej v Node\u2011RED debug node a sleduj <code>msg.payload</code>.</li> <li>Zkontroluj, \u017ee MQTT in m\u00e1 spr\u00e1vn\u00fd topic (<code>lab/+/telemetry/#</code>).</li> <li>Ov\u011b\u0159 logy kontejner\u016f:   <pre><code>docker compose logs mosquitto\ndocker compose logs nodered\n</code></pre></li> <li>Ov\u011b\u0159, \u017ee v <code>mosquitto.conf</code> je <code>listener 1883</code> a <code>allow_anonymous true</code> (viz Sprint 0).</li> </ul> <p>Ru\u010dn\u00ed spou\u0161t\u011bn\u00ed Mosquitto a Node-RED na hostitelsk\u00e9m syst\u00e9mu je legacy varianta a nen\u00ed doporu\u010deno.</p>"},{"location":"how-to/mosquitto-lokalni-profil/","title":"How-to \u2014 Mosquitto: lok\u00e1ln\u00ed v\u00fdvojov\u00fd profil","text":"<p>Status: stable Slug: how-to/mosquitto-lokalni-profil</p>"},{"location":"how-to/mosquitto-lokalni-profil/#cil","title":"C\u00edl","text":"<p>Lok\u00e1ln\u00ed broker akceptuje p\u0159ipojen\u00ed z hostitele i ESP32 v LAN bez TLS, voliteln\u011b s heslem. Minim\u00e1ln\u00ed nastaven\u00ed: listener 1883, persistence on, log do souboru, allow_anonymous (jen pro lab). Vzor i typick\u00e9 chybov\u00e9 stavy navazuj\u00ed na Sprint\u20110.</p>"},{"location":"how-to/mosquitto-lokalni-profil/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>B\u011b\u017e\u00ed Docker Desktop + WSL2 (viz Sprint\u20110 \u2013 Docker stack).</li> <li>Slo\u017eka projektu obsahuje <code>docker-compose.yml</code> pro Mosquitto + Node\u2011RED.</li> </ul>"},{"location":"how-to/mosquitto-lokalni-profil/#struktura-adresaru","title":"Struktura adres\u00e1\u0159\u016f","text":"<pre><code>.\n\u251c\u2500 docker-compose.yml\n\u2514\u2500 mosquitto/\n   \u251c\u2500 config/\n   \u2502  \u2514\u2500 mosquitto.conf\n   \u251c\u2500 data/\n   \u2514\u2500 log/\n</code></pre> <p>Vytvo\u0159 slo\u017eky: <pre><code>mkdir -p mosquitto/config mosquitto/data mosquitto/log\n</code></pre></p>"},{"location":"how-to/mosquitto-lokalni-profil/#minimalni-mosquittoconf-lab","title":"Minim\u00e1ln\u00ed mosquitto.conf (LAB)","text":"<pre><code># Poslouchej na v\u0161ech rozhran\u00edch na portu 1883\nlistener 1883\n\n# Povolit anonymn\u00ed p\u0159\u00edstup jen pro lok\u00e1ln\u00ed v\u00fdvoj / lab!\nallow_anonymous true\n\n# Perzistence a logy (dirs mapuj\u00ed volumes v docker-compose)\npersistence true\npersistence_location /mosquitto/data/\nlog_timestamp true\nlog_dest file /mosquitto/log/mosquitto.log\n\n# (Voliteln\u00e9) Del\u0161\u00ed keepalive pro chatrn\u00e9 Wi\u2011Fi\nmax_keepalive 120\n</code></pre> <p>Bezpe\u010dn\u011bj\u0161\u00ed profil (TLS, ACL, password_file) p\u0159id\u00e1\u0161 ve Sprintu 4.</p>"},{"location":"how-to/mosquitto-lokalni-profil/#volitelne-heslo-uzivatele","title":"(Voliteln\u011b) Heslo u\u017eivatele","text":"<pre><code># m\u00edsto allow_anonymous: false a password_file\nallow_anonymous false\npassword_file /mosquitto/config/passwords\n</code></pre> <p>Vytvo\u0159en\u00ed souboru hesel (uvnit\u0159 kontejneru nebo lok\u00e1ln\u011b a namapovat): <pre><code>docker exec -it &lt;mosquitto-container&gt; sh -c \"mosquitto_passwd -c /mosquitto/config/passwords dev &amp;&amp; chmod 600 /mosquitto/config/passwords\"\n</code></pre></p>"},{"location":"how-to/mosquitto-lokalni-profil/#docker-composeyml-relevantni-cast","title":"docker-compose.yml \u2014 relevantn\u00ed \u010d\u00e1st","text":"<pre><code>services:\n  mosquitto:\n    image: eclipse-mosquitto:2\n    ports:\n      - \"1883:1883\"\n    volumes:\n      - ./mosquitto/config:/mosquitto/config\n      - ./mosquitto/data:/mosquitto/data\n      - ./mosquitto/log:/mosquitto/log\n</code></pre> <p>Pokud config chyb\u00ed nebo je pr\u00e1zdn\u00fd, broker pad\u00e1 do local only mode nebo nenastartuje.</p>"},{"location":"how-to/mosquitto-lokalni-profil/#start-a-overeni","title":"Start a ov\u011b\u0159en\u00ed","text":"<p><pre><code>docker compose down\ndocker compose up -d\ndocker compose logs -f mosquitto\n</code></pre> V logu nesm\u00ed b\u00fdt \u201eStarting in local only mode\u2026\u201c.</p> <p>Na Windows otestuj klientem z WSL i z hostitele.</p>"},{"location":"how-to/mosquitto-lokalni-profil/#rychle-testy-vyber-jeden","title":"Rychl\u00e9 testy (vyber jeden)","text":""},{"location":"how-to/mosquitto-lokalni-profil/#a-mqtt-explorer-windows-app","title":"A) MQTT Explorer (Windows app)","text":"<ul> <li>Subscribe na <code>test/topic</code> \u2192 2) Publish na <code>test/topic</code> s payloadem <code>hello</code>.</li> </ul>"},{"location":"how-to/mosquitto-lokalni-profil/#b-wsl-klienty","title":"B) WSL klienty","text":"<pre><code>sudo apt-get update &amp;&amp; sudo apt-get install -y mosquitto-clients\nmosquitto_sub -h localhost -t test/topic &amp;\nmosquitto_pub -h localhost -t test/topic -m \"ahoj z WSL\"\n</code></pre>"},{"location":"how-to/mosquitto-lokalni-profil/#c-z-vedlejsiho-kontejneru","title":"C) Z vedlej\u0161\u00edho kontejneru","text":"<pre><code>docker run --rm --network $(basename \"$PWD\")_default eclipse-mosquitto:2 \\\n  mosquitto_pub -h mosquitto -t test/topic -m \"ahoj z kontejneru\"\n</code></pre>"},{"location":"how-to/mosquitto-lokalni-profil/#typicke-chybove-stavy-rychla-diagnostika","title":"Typick\u00e9 chybov\u00e9 stavy (rychl\u00e1 diagnostika)","text":"P\u0159\u00edznak Pravd\u011bpodobn\u00e1 p\u0159\u00ed\u010dina Oprava Starting in local only mode v logu Nenalezen validn\u00ed config, mapuje\u0161 pr\u00e1zdn\u00fd ./mosquitto/config Vytvo\u0159 mosquitto.conf, restartuj stack Error: Unable to open config file \u0160patn\u00e1 cesta/volume, chyb\u00ed soubor Zkontroluj volume a existenci souboru ESP32 se p\u0159ipoj\u00ed, ale zpr\u00e1vy \u201enikde\u201c Subscribe na jin\u00fd topic ne\u017e publikuje\u0161; QoS 1/2 bez ACK Sjedno\u0165 topic, za\u010dni na QoS 0 Address already in use p\u0159i startu Port 1883 u\u017e pou\u017e\u00edv\u00e1 jin\u00fd proces Zm\u011b\u0148 mapov\u00e1n\u00ed portu nebo ukon\u010di kolizn\u00ed slu\u017ebu MQTT Explorer se nep\u0159ipoj\u00ed TLS zapnuto v klientu, ale broker b\u011b\u017e\u00ed bez TLS Vypni TLS/validate v klientu"},{"location":"how-to/mosquitto-lokalni-profil/#cleanup","title":"Cleanup","text":"<p>Sta\u010d\u00ed zastavit stack a smazat data/logy podle pot\u0159eby.</p>"},{"location":"how-to/mosquitto-security/","title":"How-to: MQTT Security (Mosquitto: TLS, auth, ACL, QoS)","text":"<p>Tento n\u00e1vod popisuje, jak zabezpe\u010dit Mosquitto broker pomoc\u00ed TLS/SSL certifik\u00e1t\u016f, u\u017eivatelsk\u00fdch hesel a ACL.</p>"},{"location":"how-to/mosquitto-security/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>B\u011b\u017e\u00edc\u00ed Mosquitto broker (nap\u0159. v Dockeru)</li> <li>Z\u00e1kladn\u00ed znalost pr\u00e1ce s p\u0159\u00edkazovou \u0159\u00e1dkou a TLS certifik\u00e1t\u016f</li> </ul>"},{"location":"how-to/mosquitto-security/#postup","title":"Postup","text":"<ol> <li>Vytvo\u0159 u\u017eivatele a hesla <pre><code>mosquitto_passwd -c mosquitto.passwd uzivatel\n</code></pre>     V konfiguraci nastav:     <pre><code>password_file /mosquitto/config/mosquitto.passwd\nallow_anonymous false\n</code></pre></li> <li>Vygeneruj TLS certifik\u00e1ty (self-signed nebo od CA):     <pre><code>openssl req -x509 -newkey rsa:4096 -keyout mosquitto.key -out mosquitto.crt -days 365 -nodes\n</code></pre>     Ulo\u017e certifik\u00e1ty do slo\u017eky, kterou mountuje\u0161 do kontejneru Mosquitto (nap\u0159. <code>./config/certs/</code>).</li> <li>Uprav konfiguraci Mosquitto (<code>mosquitto.conf</code>):     <pre><code>listener 8883\ncafile /mosquitto/config/certs/mosquitto.crt\ncertfile /mosquitto/config/certs/mosquitto.crt\nkeyfile /mosquitto/config/certs/mosquitto.key\nrequire_certificate false\n</code></pre></li> <li>Vytvo\u0159 ACL (Access Control List):<ul> <li>Definuj role (nap\u0159. <code>publisher-edge</code>, <code>viewer-dashboard</code>) a povolen\u00e9 topiky v souboru <code>aclfile</code>.</li> <li>V konfiguraci p\u0159idej: <pre><code>acl_file /mosquitto/config/aclfile\n</code></pre></li> </ul> </li> <li>Restartuj Mosquitto a ov\u011b\u0159, \u017ee port 8883 je otev\u0159en\u00fd a p\u0159ipojen\u00ed vy\u017eaduje TLS a heslo.</li> <li>Otestuj p\u0159ipojen\u00ed klienta (nap\u0159. MQTT Explorer) s TLS a spr\u00e1vn\u00fdmi p\u0159ihla\u0161ovac\u00edmi \u00fadaji.</li> </ol>"},{"location":"how-to/mosquitto-security/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Klient se p\u0159ipoj\u00ed pouze p\u0159es TLS (port 8883) a s platn\u00fdm u\u017eivatelsk\u00fdm jm\u00e9nem/heslem</li> <li>Neautorizovan\u00e9 topiky vrac\u00ed chybu podle ACL</li> <li>Nezabezpe\u010den\u00e9 p\u0159ipojen\u00ed na 1883 lze zak\u00e1zat v konfiguraci</li> </ul>"},{"location":"how-to/mosquitto-security/#rollback","title":"Rollback","text":"<ul> <li>Z\u00e1lohuj p\u016fvodn\u00ed <code>mosquitto.conf</code> a vra\u0165 jej zp\u011bt</li> <li>Sma\u017e nebo obnov soubory s hesly a certifik\u00e1ty</li> </ul>"},{"location":"how-to/mqtt-explorer/","title":"How-to: MQTT Explorer","text":"<p>N\u00e1vod na pou\u017eit\u00ed MQTT Explorer pro testov\u00e1n\u00ed MQTT brokeru.</p>"},{"location":"how-to/mqtt-explorer/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Nainstalovan\u00fd MQTT Explorer (mqtt-explorer.com)</li> <li>B\u011b\u017e\u00edc\u00ed MQTT broker (nap\u0159. Mosquitto)</li> </ul>"},{"location":"how-to/mqtt-explorer/#postup","title":"Postup","text":"<ol> <li>Spus\u0165 MQTT Explorer.</li> <li>P\u0159idej nov\u00e9 p\u0159ipojen\u00ed na broker (nap\u0159. <code>localhost:1883</code>).</li> <li>Ov\u011b\u0159 publish/subscribe na testovac\u00edm t\u00e9matu.</li> </ol>"},{"location":"how-to/mqtt-explorer/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Zpr\u00e1vy se zobrazuj\u00ed v re\u00e1ln\u00e9m \u010dase</li> </ul>"},{"location":"how-to/mqtt-namespace/","title":"How-to: N\u00e1vrh MQTT namespace a konvenc\u00ed pro topic","text":"<p>Tento n\u00e1vod vysv\u011btluje, jak navrhnout a pou\u017e\u00edvat konzistentn\u00ed MQTT namespace (pravidla pro n\u00e1zvy topic\u016f) v OT/IT projektech.</p>"},{"location":"how-to/mqtt-namespace/#proc-resit-namespace","title":"Pro\u010d \u0159e\u0161it namespace?","text":"<ul> <li>Umo\u017e\u0148uje snadn\u00e9 filtrov\u00e1n\u00ed a routov\u00e1n\u00ed zpr\u00e1v (wildcardy, ACL)</li> <li>Usnad\u0148uje spr\u00e1vu p\u0159\u00edstupov\u00fdch pr\u00e1v a bezpe\u010dnosti</li> <li>Zjednodu\u0161uje integraci s dal\u0161\u00edmi syst\u00e9my (Node-RED, InfluxDB, Home Assistant)</li> <li>Sni\u017euje riziko chyb a refaktoringu v budoucnu</li> </ul>"},{"location":"how-to/mqtt-namespace/#doporuceny-tvar-topicu","title":"Doporu\u010den\u00fd tvar topicu","text":"<p><pre><code>v1/&lt;org&gt;/&lt;site&gt;/&lt;device&gt;/&lt;channel&gt;/&lt;metric&gt;\n</code></pre> - v1 \u2013 verze sch\u00e9matu (umo\u017en\u00ed zm\u011bny bez rozbit\u00ed star\u00fdch v\u011bc\u00ed) -  \u2013 organizace, nap\u0159. home, firma -  \u2013 m\u00edsto, z\u00f3na, nap\u0159. lab -  \u2013 nap\u0159. esp32-01 (kebab-case, bez mezer) -  \u2013 tele | state | evt | cmd | cfg | meta -  \u2013 nap\u0159. temperature, humidity, rssi, status"},{"location":"how-to/mqtt-namespace/#priklady","title":"P\u0159\u00edklady","text":"<ul> <li>Telemetrie: <code>v1/home/lab/esp32-01/tele/temperature</code> \u2192 22.8</li> <li>Stav: <code>v1/home/lab/esp32-01/meta/status</code> \u2192 \"ONLINE\" (retained)</li> <li>RSSI: <code>v1/home/lab/esp32-01/state/rssi</code> \u2192 {\"value\":-61,\"unit\":\"dBm\",\"ts\":...}</li> <li>P\u0159\u00edkaz: <code>v1/home/lab/esp32-01/cmd/reboot</code> \u2192 {}</li> <li>ACK: <code>v1/home/lab/esp32-01/evt/ack</code> \u2192 {\"cmd\":\"reboot\",\"ok\":true,\"ts\":...}</li> </ul>"},{"location":"how-to/mqtt-namespace/#pravidla-pojmenovani","title":"Pravidla pojmenov\u00e1n\u00ed","text":"<ul> <li>Pou\u017e\u00edvej mal\u00e1 p\u00edsmena, \u010d\u00edsla, poml\u010dky (kebab-case)</li> <li>Bez mezer a diakritiky</li> <li>D\u00e9lka topicu do 100 znak\u016f</li> <li>Device id: nap\u0159. esp32- <li>Metric: jednotn\u00e9 \u010d\u00edslo, anglicky (temperature, status)</li>"},{"location":"how-to/mqtt-namespace/#vyznam-kanalu","title":"V\u00fdznam kan\u00e1l\u016f","text":"Kan\u00e1l K \u010demu Retained QoS tele pr\u016fb\u011b\u017en\u00e1 m\u011b\u0159en\u00ed (grafy) NE 0 state pomal\u00e9 stavy (rssi, battery) ANO 0/1 evt ud\u00e1losti (alarm, ack) NE 1 cmd p\u0159\u00edkazy k za\u0159\u00edzen\u00ed n/a 1 cfg konfigurace ANO 1 meta \u017eivotn\u00ed cyklus (ONLINE/OFFLINE) ANO 1"},{"location":"how-to/mqtt-namespace/#wildcardy-a-priklady-pouziti","title":"Wildcardy a p\u0159\u00edklady pou\u017eit\u00ed","text":"<ul> <li>V\u0161echna tele za\u0159\u00edzen\u00ed: <code>v1/home/lab/+/tele/#</code></li> <li>V\u0161echny metriky jednoho za\u0159\u00edzen\u00ed: <code>v1/home/lab/esp32-01/+/+#</code></li> <li>Jen teploty: <code>v1/home/lab/+/tele/temperature</code></li> </ul>"},{"location":"how-to/mqtt-namespace/#retain-vlajka-v-mqtt","title":"Retain vlajka v MQTT","text":"<p>V MQTT je <code>retain</code> vlajka, kterou nastav\u00ed\u0161 p\u0159i publikov\u00e1n\u00ed zpr\u00e1vy. Znamen\u00e1 to:</p> <ul> <li>Broker si tu zpr\u00e1vu zapamatuje jako \u201eposledn\u00ed zn\u00e1mou\u201c pro dan\u00fd topic.</li> <li>Kdy\u017e se n\u011bkdo nov\u00fd p\u0159ihl\u00e1s\u00ed (subscribe) na ten topic, broker mu hned po\u0161le tu ulo\u017eenou zpr\u00e1vu, ani\u017e by \u010dekal na dal\u0161\u00ed publish od za\u0159\u00edzen\u00ed.</li> <li>Z\u016fst\u00e1v\u00e1 tam tak dlouho, dokud ji n\u011bkdo nenahrad\u00ed novou retained zpr\u00e1vou (nebo publishne \u201epr\u00e1zdnou\u201c s retain=1 \u2192 to sma\u017ee ulo\u017eenou).</li> </ul> <p>P\u0159\u00edklad:</p> <p>ESP32 publikuje:</p> <p>topic: home/lab/esp32-01/meta/status payload: \"ONLINE\" retain: true</p> <p>Broker si to ulo\u017e\u00ed.</p> <p>Kdy\u017e se Node-RED restartuje a znovu se p\u0159ihl\u00e1s\u00ed na ten topic, hned dostane \u201eONLINE\u201c, i kdy\u017e mezit\u00edm ESP32 nic neposlalo.</p> <p>To je ide\u00e1ln\u00ed na stav za\u0159\u00edzen\u00ed, konfiguraci, posledn\u00ed zn\u00e1m\u00e9 hodnoty.</p> <p>Naopak na rychle se m\u011bn\u00edc\u00ed telemetrii (temperature ka\u017ed\u00fdch 5 s) to ned\u00e1v\u00e1 smysl \u2013 nechce\u0161, aby se star\u00e1 hodnota tv\u00e1\u0159ila jako \u010derstv\u00e1.</p>"},{"location":"how-to/mqtt-namespace/#retain-qos","title":"Retain &amp; QoS","text":"<p>Retain = ANO: meta/status, state, cfg Retain = NE: tele, evt, cmd QoS: tele na 0, cmd/evt/meta/cfg typicky 1</p>"},{"location":"how-to/mqtt-namespace/#payload-konvence","title":"Payload konvence","text":"<ul> <li>Telemetrie: \u010d\u00edslo nebo JSON {\"value\":22.8,\"unit\":\"\u00b0C\",\"ts\":...}</li> <li>Stav: \"ONLINE\"/\"OFFLINE\" (retained)</li> <li>P\u0159\u00edkaz: pr\u00e1zdn\u00fd objekt nebo JSON</li> </ul>"},{"location":"how-to/mqtt-namespace/#checklist-pro-sprint-1","title":"Checklist pro Sprint-1","text":"<ul> <li>Zvol org, site, verzi (v1) \u2013 zapi\u0161 do README</li> <li>Device id strategie (esp32-) <li>Rozhodni payload per metrika: \u010d\u00edslo nebo JSON</li> <li>Implementuj LWT na .../meta/status (OFFLINE, retained)</li> <li>ESP32 publikuje ka\u017ed\u00fdch 5\u201310 s na .../tele/ <li>Node-RED subscribne v1/home/lab/+/tele/#</li> <li>Retained jen na meta/state/cfg, ne na tele</li>"},{"location":"how-to/mqtt-namespace/#dalsi-zdroje","title":"Dal\u0161\u00ed zdroje","text":"<ul> <li>MQTT topic best practices</li> </ul>"},{"location":"how-to/mqtt-topic-naming/","title":"How-to: MQTT topic naming (CNC, PLC, OT/IT)","text":"<p>Doporu\u010den\u00ed pro pojmenov\u00e1v\u00e1n\u00ed MQTT topic\u016f v prost\u0159ed\u00ed pr\u016fmyslov\u00e9 automatizace (CNC, PLC, OT/IT).</p>"},{"location":"how-to/mqtt-topic-naming/#zasady","title":"Z\u00e1sady","text":"<ul> <li>Hierarchick\u00e1 struktura: nap\u0159. <code>factory/line1/machineA/temperature</code> nebo <code>plant/area1/plc1/input/temperature</code></li> <li>Nepou\u017e\u00edvat mezery, speci\u00e1ln\u00ed znaky</li> <li>Pou\u017e\u00edvat mal\u00e1 p\u00edsmena a odd\u011blovat lom\u00edtkem</li> </ul>"},{"location":"how-to/mqtt-topic-naming/#priklady-pro-cnc","title":"P\u0159\u00edklady pro CNC","text":"<ul> <li><code>cnc/obrabeci-stroj1/teplota</code></li> <li><code>cnc/obrabeci-stroj2/vibrace</code></li> <li><code>cnc/obrabeci-stroj3/stav</code></li> </ul>"},{"location":"how-to/mqtt-topic-naming/#priklady-pro-plc","title":"P\u0159\u00edklady pro PLC","text":"<ul> <li><code>plc/linka1/vstup/teplota</code></li> <li><code>plc/linka2/vystup/tlak</code></li> <li><code>plc/linka3/alarm/porucha</code></li> </ul>"},{"location":"how-to/mqtt-topic-naming/#tipy","title":"Tipy","text":"<ul> <li>Pro ka\u017edou strojn\u00ed bu\u0148ku nebo PLC pou\u017e\u00edvej unik\u00e1tn\u00ed prefix</li> <li>Stavov\u00e9 a alarmov\u00e9 zpr\u00e1vy odd\u011bluj do samostatn\u00fdch v\u011btv\u00ed</li> <li>Odd\u011bluj vstupy, v\u00fdstupy a alarmy do samostatn\u00fdch v\u011btv\u00ed</li> </ul>"},{"location":"how-to/node-red-zakladni-flow/","title":"How-to: Node-RED \u2013 z\u00e1kladn\u00ed flow","text":"<p>Tento n\u00e1vod ukazuje, jak vytvo\u0159it z\u00e1kladn\u00ed flow v Node-RED pro p\u0159\u00edjem dat z MQTT a jejich zobrazen\u00ed na dashboardu.</p>"},{"location":"how-to/node-red-zakladni-flow/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>B\u011b\u017e\u00edc\u00ed Node-RED (nap\u0159. v Dockeru)</li> <li>MQTT broker (nap\u0159. Mosquitto)</li> <li>P\u0159\u00edstup do webov\u00e9ho rozhran\u00ed Node-RED</li> </ul>"},{"location":"how-to/node-red-zakladni-flow/#postup","title":"Postup","text":"<ol> <li>Otev\u0159i Node-RED v prohl\u00ed\u017ee\u010di (obvykle http://localhost:1880).</li> <li>P\u0159idej node <code>mqtt in</code> a nakonfiguruj p\u0159ipojen\u00ed na broker (nap\u0159. localhost:1883, t\u00e9ma nap\u0159. <code>v1/home/lab/esp32-01/tele/temperature</code>).</li> <li>P\u0159idej node <code>debug</code> pro zobrazen\u00ed p\u0159\u00edchoz\u00edch zpr\u00e1v.</li> <li>P\u0159idej node <code>ui_chart</code> (z bal\u00ed\u010dku node-red-dashboard) pro vizualizaci dat.</li> <li>Propoj nody: <code>mqtt in</code> \u2192 <code>ui_chart</code> a/nebo <code>debug</code>.</li> <li>Deployni flow a sleduj data na dashboardu.</li> </ol>"},{"location":"how-to/node-red-zakladni-flow/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Data z MQTT se zobrazuj\u00ed v debug okn\u011b a na dashboardu v grafu.</li> </ul>"},{"location":"how-to/node-red-zakladni-flow/#rollback","title":"Rollback","text":"<ul> <li>Flow lze smazat nebo deaktivovat v editoru Node-RED.</li> </ul>"},{"location":"how-to/node-red-zakladni-flow/#tipy","title":"Tipy","text":"<ul> <li>Pro testov\u00e1n\u00ed m\u016f\u017ee\u0161 pou\u017e\u00edt MQTT Explorer nebo p\u0159\u00edkazov\u00fd \u0159\u00e1dek k odes\u00edl\u00e1n\u00ed zpr\u00e1v do zvolen\u00e9ho t\u00e9matu.</li> <li>P\u0159idej dal\u0161\u00ed vizualiza\u010dn\u00ed nody podle pot\u0159eby (gauge, text, atd.).</li> </ul>"},{"location":"how-to/opcua-securechannel/","title":"How-to: OPC UA SecureChannel","text":"<p>N\u00e1vod na zabezpe\u010den\u00ed komunikace OPC UA serveru pomoc\u00ed SecureChannel (\u0161ifrov\u00e1n\u00ed a autentizace).</p>"},{"location":"how-to/opcua-securechannel/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>B\u011b\u017e\u00edc\u00ed OPC UA server (nap\u0159. Prosys, open62541, nebo v Node-RED)</li> <li>OPC UA klient (nap\u0159. UaExpert)</li> </ul>"},{"location":"how-to/opcua-securechannel/#postup","title":"Postup","text":"<ol> <li>Povolit \u0161ifrov\u00e1n\u00ed na serveru \u2013 v konfiguraci serveru nastav SecurityPolicy (nap\u0159. <code>Basic256Sha256</code>).</li> <li>Vytvo\u0159 nebo importuj certifik\u00e1ty pro server i klienta.</li> <li>Nastav re\u017eim komunikace na <code>Sign &amp; Encrypt</code>.</li> <li>P\u0159idej certifik\u00e1t klienta do d\u016fv\u011bryhodn\u00fdch na serveru (a naopak, pokud je vy\u017eadov\u00e1no).</li> <li>Restartuj server a klienta.</li> <li>P\u0159ipoj klienta a ov\u011b\u0159, \u017ee komunikace prob\u00edh\u00e1 p\u0159es zabezpe\u010den\u00fd kan\u00e1l.</li> </ol>"},{"location":"how-to/opcua-securechannel/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Klient se p\u0159ipoj\u00ed pouze p\u0159es zabezpe\u010den\u00fd kan\u00e1l (Sign &amp; Encrypt)</li> <li>Nezabezpe\u010den\u00e9 spojen\u00ed je odm\u00edtnuto</li> </ul>"},{"location":"how-to/opcua-securechannel/#rollback","title":"Rollback","text":"<ul> <li>V konfiguraci serveru nastav zp\u011bt SecurityPolicy na <code>None</code> a restartuj server</li> </ul>"},{"location":"how-to/platformio-esp32-mqtt/","title":"How-to \u2014 ESP32 \u2192 MQTT (PlatformIO/Arduino)","text":"<p>Status: stable Slug: how-to/platformio-esp32-mqtt</p>"},{"location":"how-to/platformio-esp32-mqtt/#cil","title":"C\u00edl","text":"<p>Rychl\u00fd start s PlatformIO (Arduino framework) pro ESP32: Wi-Fi, MQTT, LWT, telemetrie ka\u017ed\u00fdch 5 s, sjednocen\u00e9 topics.</p>"},{"location":"how-to/platformio-esp32-mqtt/#platformioini","title":"platformio.ini","text":"<pre><code>[env:esp32-s3]\nplatform = espressif32\nboard = esp32-s3-devkitc-1\nframework = arduino\nmonitor_speed = 115200\nlib_deps = knolleary/PubSubClient@^2.8\nbuild_flags = -D ORG=\\\"home\\\" -D SITE=\\\"lab\\\" -D DEV=\\\"esp32-01\\\"\n</code></pre>"},{"location":"how-to/platformio-esp32-mqtt/#srcmaincpp","title":"src/main.cpp","text":"<p>Pou\u017eij mini-sketch z How-to: ESP32 \u2192 MQTT (mini-sketch), sjedno\u0165 topics podle konvence: - LWT: <code>v1/&lt;org&gt;/&lt;site&gt;/&lt;device&gt;/meta/status</code> (ONLINE/OFFLINE, retained) - Telemetrie: <code>v1/&lt;org&gt;/&lt;site&gt;/&lt;device&gt;/tele/temperature</code> (ka\u017ed\u00fdch 5 s, QoS 0, retain false)</p>"},{"location":"how-to/platformio-esp32-mqtt/#build-upload","title":"Build &amp; upload","text":"<ul> <li>P\u0159ipoj ESP32 p\u0159es USB.</li> <li>Spus\u0165 v rootu projektu:   <pre><code>pio run -t upload\npio device monitor\n</code></pre></li> </ul>"},{"location":"how-to/platformio-esp32-mqtt/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>MQTT Explorer: subscribe na <code>v1/home/lab/esp32-01/#</code>.</li> <li>Na topicu <code>.../meta/status</code> uvid\u00ed\u0161 ONLINE/OFFLINE (retained).</li> <li>Ka\u017ed\u00fdch 5 s se publikuje teplota na <code>.../tele/temperature</code>.</li> </ul>"},{"location":"how-to/platformio-esp32-mqtt/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Pokud se ESP32 nep\u0159ipoj\u00ed, zkontroluj Wi-Fi \u00fadaje a MQTT broker.</li> <li>Pro detailn\u00ed logy pou\u017eij PlatformIO Monitor.</li> </ul>"},{"location":"how-to/prace-s-docker-compose/","title":"How-to: Pr\u00e1ce s docker-compose a Docker Desktop","text":"<p>Tento n\u00e1vod vysv\u011btluje, jak spr\u00e1vn\u011b pracovat s docker-compose.yml v kombinaci s Docker Desktop, jak udr\u017eet synchronizaci a jak\u00e9 soubory verzovat.</p>"},{"location":"how-to/prace-s-docker-compose/#zakladni-workflow","title":"Z\u00e1kladn\u00ed workflow","text":"<ul> <li>M\u011bj projektovou slo\u017eku s docker-compose.yml a konfigura\u010dn\u00edmi soubory.</li> <li>Stack v\u017edy spou\u0161t\u011bj z termin\u00e1lu:   <pre><code>docker compose up -d\n</code></pre></li> <li>Pokud zm\u011bn\u00ed\u0161 docker-compose.yml, spus\u0165 znovu <code>docker compose up -d</code> (nebo <code>--build</code> p\u0159i zm\u011bn\u011b Dockerfile).</li> <li>Docker Desktop UI (Play/Stop) pouze spou\u0161t\u00ed/vyp\u00edn\u00e1 existuj\u00edc\u00ed kontejnery, ne\u010dte automaticky nov\u00e9 YAML.</li> </ul>"},{"location":"how-to/prace-s-docker-compose/#jak-udrzet-poradek","title":"Jak udr\u017eet po\u0159\u00e1dek","text":"<ul> <li>Verzuj pouze docker-compose.yml, konfigy a p\u0159\u00edpadn\u00e9 init skripty.</li> <li>Ignoruj data, logy, volume a runtime soubory pomoc\u00ed .gitignore.</li> <li>Pro \u010dist\u00fd start pou\u017eij:   <pre><code>docker compose down\ndocker compose up -d\n</code></pre></li> </ul>"},{"location":"how-to/prace-s-docker-compose/#doporuceny-gitignore","title":"Doporu\u010den\u00fd .gitignore","text":"<pre><code>**/data/\n**/log/\n**/logs/\n**/tmp/\n**/node_modules/\nmosquitto/data/\nmosquitto/log/\nnodered/data/\nnodered/node_modules/\nnodered/.config.runtime.json\nnodered/.sessions.json\n.vscode/\n.idea/\n.DS_Store\nThumbs.db\n*.bak\n*.swp\n*.tmp\n</code></pre>"},{"location":"how-to/prace-s-docker-compose/#tipy","title":"Tipy","text":"<ul> <li>Pokud chce\u0161 m\u00edt projekt v Docker Desktop UI \u201eklikac\u00ed\u201c, pou\u017eij v menu Containers \u2192 Create \u2192 From Compose file a nahraj sv\u016fj YAML.</li> <li>Po v\u011bt\u0161\u00edch zm\u011bn\u00e1ch v\u017edy stack shodit (<code>down</code>) a znovu spustit (<code>up -d</code>).</li> <li>Pro v\u011bt\u0161\u00ed projekty pou\u017e\u00edvej pojmenovan\u00e9 kontejnery a s\u00edt\u011b v docker-compose.yml.</li> </ul>"},{"location":"how-to/tasmota-esp32-mqtt/","title":"How-to \u2014 ESP32 \u2192 MQTT (Tasmota)","text":"<p>Status: stable Slug: how-to/tasmota-esp32-mqtt</p>"},{"location":"how-to/tasmota-esp32-mqtt/#cil","title":"C\u00edl","text":"<p>Rychl\u00fd start s Tasmota na ESP32: Wi-Fi, MQTT, LWT, telemetrie ka\u017ed\u00fdch 5 s, v\u0161e p\u0159es webov\u00e9 rozhran\u00ed a Console.</p>"},{"location":"how-to/tasmota-esp32-mqtt/#flash-a-zakladni-nastaveni","title":"Flash a z\u00e1kladn\u00ed nastaven\u00ed","text":"<ul> <li>Flashni firmware <code>tasmota32.factory.bin</code> (Tasmotizer nebo esptool).</li> <li>P\u0159ipoj ESP32 k Wi-Fi (WebUI \u2192 Configure Wi\u2011Fi).</li> <li>Nastav MQTT (WebUI \u2192 Configure MQTT):</li> <li>Broker: IP adresa Mosquitto</li> <li>Port: 1883</li> <li>Client: esp32-01</li> <li>FullTopic: <code>v1/home/lab/%topic%/%prefix%/</code></li> </ul>"},{"location":"how-to/tasmota-esp32-mqtt/#pravidla-pro-lwt-a-telemetrii","title":"Pravidla pro LWT a telemetrii","text":"<p>V Tasmota Console zadej: <pre><code>Backlog Rule1 ON Tele-LWT#LWT DO Publish v1/home/lab/esp32-01/meta/status %value% ENDON; Rule1 1\nTelePeriod 5\nRule2 ON Time#Minute DO ADD1 1; Publish v1/home/lab/esp32-01/tele/temperature %var1% ENDON; Rule2 1\n</code></pre> - Pokud pot\u0159ebuje\u0161 <code>retain</code>, pou\u017eij <code>Publish topic payload 1</code>.</p>"},{"location":"how-to/tasmota-esp32-mqtt/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>MQTT Explorer: subscribe na <code>v1/home/lab/esp32-01/#</code>.</li> <li>Na topicu <code>.../meta/status</code> uvid\u00ed\u0161 ONLINE/OFFLINE (retained).</li> <li>Ka\u017ed\u00fdch 5 s se publikuje teplota na <code>.../tele/temperature</code>.</li> </ul>"},{"location":"how-to/tasmota-esp32-mqtt/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Pokud se ESP32 nep\u0159ipoj\u00ed, zkontroluj Wi-Fi \u00fadaje a MQTT broker.</li> <li>Pravidla lze upravit v Console podle pot\u0159eby.</li> <li>Pro detailn\u00ed logy pou\u017eij WebUI \u2192 Console.</li> </ul>"},{"location":"how-to/zakladni-prace-s-kontejnery/","title":"How-to: Z\u00e1kladn\u00ed pr\u00e1ce s kontejnery (Docker)","text":""},{"location":"how-to/zakladni-prace-s-kontejnery/#spusteni-kontejneru","title":"Spu\u0161t\u011bn\u00ed kontejneru","text":"<pre><code>docker run -it --rm ubuntu bash\n</code></pre>"},{"location":"how-to/zakladni-prace-s-kontejnery/#seznam-bezicich-kontejneru","title":"Seznam b\u011b\u017e\u00edc\u00edch kontejner\u016f","text":"<pre><code>docker ps\n</code></pre>"},{"location":"how-to/zakladni-prace-s-kontejnery/#vypis-logu-kontejneru","title":"V\u00fdpis log\u016f kontejneru","text":"<pre><code>docker logs &lt;jm\u00e9no|ID&gt;\n</code></pre>"},{"location":"how-to/zakladni-prace-s-kontejnery/#vstup-do-beziciho-kontejneru","title":"Vstup do b\u011b\u017e\u00edc\u00edho kontejneru","text":"<pre><code>docker exec -it &lt;jm\u00e9no|ID&gt; sh\n</code></pre>"},{"location":"how-to/zakladni-prace-s-kontejnery/#zastaveni-a-odstraneni-kontejneru","title":"Zastaven\u00ed a odstran\u011bn\u00ed kontejner\u016f","text":"<pre><code>docker compose down\n</code></pre>"},{"location":"how-to/zakladni-prace-s-kontejnery/#odstraneni-svazku-dat","title":"Odstran\u011bn\u00ed svazk\u016f (dat)","text":"<pre><code>docker volume rm &lt;n\u00e1zev&gt;\n</code></pre>"},{"location":"how-to/zakladni-prace-s-kontejnery/#dalsi-tipy","title":"Dal\u0161\u00ed tipy","text":"<ul> <li>Pro ka\u017ed\u00fd projekt pou\u017e\u00edvej vlastn\u00ed slo\u017eku.</li> <li>Logy a data mapuj do volumes.</li> <li>Po zm\u011bn\u011b docker-compose.yml v\u017edy stack restartuj:   <pre><code>docker compose down\ndocker compose up -d\n</code></pre></li> </ul>"},{"location":"how-to/zakladni-prace-s-node-red/","title":"How-to: Z\u00e1kladn\u00ed pr\u00e1ce s Node-RED","text":"<p>Tento n\u00e1vod shrnuje z\u00e1kladn\u00ed pr\u00e1ci s Node-RED: instalaci, orientaci v editoru, vytv\u00e1\u0159en\u00ed a spr\u00e1vu flow.</p>"},{"location":"how-to/zakladni-prace-s-node-red/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Windows, Linux nebo macOS</li> <li>Nainstalovan\u00fd Node.js (doporu\u010deno LTS)</li> </ul>"},{"location":"how-to/zakladni-prace-s-node-red/#instalace-node-red","title":"Instalace Node-RED","text":"<ol> <li>Otev\u0159i termin\u00e1l a spus\u0165:     <pre><code>npm install -g --unsafe-perm node-red\n</code></pre></li> <li>Spus\u0165 Node-RED:     <pre><code>node-red\n</code></pre></li> <li>Otev\u0159i editor v prohl\u00ed\u017ee\u010di: http://localhost:1880</li> </ol>"},{"location":"how-to/zakladni-prace-s-node-red/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<ul> <li>Node: z\u00e1kladn\u00ed stavebn\u00ed blok (vstup, v\u00fdstup, zpracov\u00e1n\u00ed dat)</li> <li>Flow: propojen\u00ed v\u00edce nod\u016f do logick\u00e9ho celku</li> <li>Dashboard: webov\u00e9 rozhran\u00ed pro vizualizaci dat (voliteln\u00fd dopln\u011bk)</li> </ul>"},{"location":"how-to/zakladni-prace-s-node-red/#prace-s-editorem","title":"Pr\u00e1ce s editorem","text":"<ol> <li>P\u0159et\u00e1hni nody z lev\u00e9ho panelu do pracovn\u00ed plochy</li> <li>Propoj nody ta\u017een\u00edm my\u0161i</li> <li>Dvojklikem otev\u0159i nastaven\u00ed nodu</li> <li>Klikni na \"Deploy\" pro spu\u0161t\u011bn\u00ed flow</li> </ol>"},{"location":"how-to/zakladni-prace-s-node-red/#importexport-flow","title":"Import/export flow","text":"<ul> <li>Menu (vpravo naho\u0159e) \u2192 Import/Export</li> <li>Flow lze sd\u00edlet jako JSON</li> </ul>"},{"location":"how-to/zakladni-prace-s-node-red/#sprava-flow","title":"Spr\u00e1va flow","text":"<ul> <li>Flow lze pojmenovat, duplikovat, mazat</li> <li>Pro v\u011bt\u0161\u00ed projekty pou\u017e\u00edvej v\u00edce z\u00e1lo\u017eek (tabs)</li> </ul>"},{"location":"how-to/zakladni-prace-s-node-red/#tipy","title":"Tipy","text":"<ul> <li>Instaluj dal\u0161\u00ed nody p\u0159es \"Manage palette\"</li> <li>Pravideln\u011b z\u00e1lohuj flow (menu \u2192 Export)</li> </ul>"},{"location":"how-to/templates/how-to-template/","title":"{N\u00e1zev how-to}","text":"<p>\u00da\u010del: Co t\u00edm \u0159e\u0161\u00edm a pro\u010d (1\u20132 v\u011bty). P\u0159edpoklady: HW/SW, p\u0159\u00edstupy, verze, s\u00ed\u0165. Odhad \u010dasu: X minut/hodin. Rizika: co se m\u016f\u017ee pokazit, na co si d\u00e1t pozor.</p>"},{"location":"how-to/templates/how-to-template/#kroky","title":"Kroky","text":"<ol> <li>...</li> <li>...</li> </ol>"},{"location":"how-to/templates/how-to-template/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>Jak pozn\u00e1m, \u017ee to funguje.</li> </ul>"},{"location":"how-to/templates/how-to-template/#rollback","title":"Rollback","text":"<ul> <li>Jak vr\u00e1t\u00edm syst\u00e9m do p\u016fvodn\u00edho stavu.</li> </ul>"},{"location":"playbooks/","title":"Playbooks","text":"<p>Osv\u011bd\u010den\u00e9 postupy a checklisty.</p>"},{"location":"playbooks/#lab-workflow-rychly-start","title":"Lab workflow (rychl\u00fd start)","text":"<p>1) Mosquitto: <pre><code>\"C:\\mosquitto\\mosquitto.exe\" -c \"C:\\mosquitto\\mosquitto.conf\"\n</code></pre></p> <p>Node\u2011RED: <pre><code>node-red\n</code></pre></p> <p>Test payload (MQTT Explorer) \u2192 topic v1/home/lab/esp32-01/tele/temperature <pre><code>{\"ts\": 1734300000, \"value\": 23.7, \"unit\": \"C\"}\n</code></pre></p> <p>Otev\u0159i dashboard: http://127.0.0.1:1880/ui</p> <p>\u2139\ufe0f Detailn\u00ed verze: Playbooks \u2192 Runbook: Start/Stop labu.</p>"},{"location":"playbooks/ot-it-segmentace/","title":"Playbook: OT/IT segmentace","text":"<p>N\u00e1vod na segmentaci s\u00edt\u011b mezi OT a IT \u010d\u00e1st\u00ed v laboratorn\u00edm prost\u0159ed\u00ed.</p>"},{"location":"playbooks/ot-it-segmentace/#cil","title":"C\u00edl","text":"<ul> <li>Odd\u011blit provoz OT a IT pomoc\u00ed VLAN a firewallu na edge za\u0159\u00edzen\u00ed.</li> </ul>"},{"location":"playbooks/ot-it-segmentace/#postup","title":"Postup","text":"<ol> <li>Vytvo\u0159 dv\u011b VLAN (nap\u0159. VLAN 10 pro OT, VLAN 20 pro IT).</li> <li>Nakonfiguruj switch a edge gateway pro spr\u00e1vn\u00e9 routov\u00e1n\u00ed mezi VLAN.</li> <li>Omez komunikaci mezi VLAN pouze na nezbytn\u00e9 porty (firewall).</li> <li>Ov\u011b\u0159 funk\u010dnost (ping, p\u0159\u00edstup ke slu\u017eb\u00e1m).</li> </ol>"},{"location":"playbooks/ot-it-segmentace/#schema","title":"Sch\u00e9ma","text":"<ul> <li>[Zde dopl\u0148 s\u00ed\u0165ov\u00fd diagram]</li> </ul>"},{"location":"playbooks/ot-it-segmentace/#testy","title":"Testy","text":"<ul> <li>OT za\u0159\u00edzen\u00ed nevid\u00ed IT s\u00ed\u0165 (krom\u011b povolen\u00fdch slu\u017eeb)</li> <li>IT s\u00ed\u0165 m\u00e1 p\u0159\u00edstup pouze na vybran\u00e9 slu\u017eby v OT</li> </ul>"},{"location":"playbooks/runbook-lab-start/","title":"Runbook: Start/Stop labu (Docker Compose)","text":"<p>\u00da\u010del</p> <p>Opakovateln\u00e9 spu\u0161t\u011bn\u00ed a zastaven\u00ed labu (Mosquitto + Node-RED) v Dockeru. Jedna str\u00e1nka pro ka\u017edodenn\u00ed provoz.</p>"},{"location":"playbooks/runbook-lab-start/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>Windows 10/11 s Docker Desktop a WSL2</li> <li>P\u0159ipraven\u00fd <code>docker-compose.yml</code> (viz Sprint 0)</li> <li>MQTT Explorer</li> </ul>"},{"location":"playbooks/runbook-lab-start/#start-labu-cca-30-s","title":"Start labu (cca 30 s)","text":"<ol> <li>Spus\u0165 stack <pre><code>docker compose up -d\n</code></pre></li> <li>Ov\u011b\u0159en\u00ed b\u011bhu</li> <li><code>docker ps</code> \u2014 oba kontejnery b\u011b\u017e\u00ed</li> <li>Mosquitto: MQTT Explorer \u2192 Connect localhost:1883</li> <li>Node-RED: http://localhost:1880</li> <li>ESP32 \u2013 p\u0159ipojit nap\u00e1jen\u00ed</li> <li>O\u010dek\u00e1vej publish ka\u017ed\u00fdch 5 s do t\u00e9matu nap\u0159. <code>v1/home/lab/esp32-01/tele/temperature</code></li> </ol>"},{"location":"playbooks/runbook-lab-start/#stop-labu-cca-10-s","title":"Stop labu (cca 10 s)","text":"<ul> <li>Vypni stack:   <pre><code>docker compose down\n</code></pre></li> <li>Odpoj ESP32.</li> </ul>"},{"location":"playbooks/runbook-lab-start/#sprava-a-troubleshooting","title":"Spr\u00e1va a troubleshooting","text":"<ul> <li><code>docker ps</code> \u2014 seznam b\u011b\u017e\u00edc\u00edch kontejner\u016f</li> <li><code>docker logs &lt;jm\u00e9no&gt;</code> \u2014 v\u00fdpis log\u016f (nap\u0159. mosquitto, nodered)</li> <li><code>docker exec -it &lt;jm\u00e9no&gt; sh</code> \u2014 vstup do kontejneru</li> <li>Pokud nevid\u00ed\u0161 data v Node-RED, zkontroluj topic a p\u0159idej debug node.</li> <li>MQTT Explorer se nep\u0159ipoj\u00ed: b\u011b\u017e\u00ed Mosquitto? nen\u00ed blokov\u00e1n port 1883?</li> <li>ESP32 nepos\u00edl\u00e1: IP brokeru, Wi-Fi, kolize clientId.</li> </ul>"},{"location":"playbooks/runbook-lab-start/#odkazy","title":"Odkazy","text":"<ul> <li>How\u2011to: Instalace Dockeru na Windows + WSL2    # ...existing code...</li> <li>How\u2011to: Instalace Node\u2011RED</li> <li>How\u2011to: Node\u2011RED: z\u00e1kladn\u00ed flow</li> <li>How\u2011to: ESP32 \u2192 MQTT</li> <li>Project: Sprint 0 \u2013 Docker stack</li> </ul>"},{"location":"projects/docker-base-env/","title":"Projekt: Docker base env","text":"<p>Tato str\u00e1nka shrnuje architekturu a z\u00e1kladn\u00ed informace k v\u00fdchoz\u00edmu Docker stacku pro OT/IT lab.</p>"},{"location":"projects/docker-base-env/#architektura","title":"Architektura","text":"<ul> <li>Docker Desktop s WSL2 (Windows 11)</li> <li>docker-compose orchestruje slu\u017eby (Mosquitto, Node-RED, p\u0159\u00edpadn\u011b dal\u0161\u00ed)</li> <li>Voliteln\u00e9: podpora GPU (NVIDIA)</li> </ul>"},{"location":"projects/docker-base-env/#odkazy","title":"Odkazy","text":"<ul> <li>How-to: Instalace Docker + Compose</li> <li>How-to: Z\u00e1kladn\u00ed pr\u00e1ce s kontejnery</li> <li>ADR 0001: Docker stack jako v\u00fdchoz\u00ed prost\u0159ed\u00ed</li> <li>Sprint 0 \u2014 Docker stack: Mosquitto + Node-RED</li> </ul>"},{"location":"projects/docker-base-env/#co-pokryva","title":"Co pokr\u00fdv\u00e1","text":"<ul> <li>Z\u00e1kladn\u00ed infrastruktura pro v\u0161echny dal\u0161\u00ed sprinty</li> <li>Ov\u011b\u0159en\u00fd b\u011bh Mosquitto a Node-RED v kontejnerech</li> <li>Mo\u017enost roz\u0161\u00ed\u0159en\u00ed o dal\u0161\u00ed slu\u017eby (InfluxDB, OPC UA, ...)</li> </ul>"},{"location":"projects/sprint-0-docker-stack/","title":"Pozn\u00e1mka k pr\u00e1ci s docker-compose.yml a Docker Desktop","text":"<ul> <li>Docker Desktop UI (Play/Stop) pouze spou\u0161t\u00ed/vyp\u00edn\u00e1 existuj\u00edc\u00ed kontejnery, ale ne\u010dte automaticky aktu\u00e1ln\u00ed docker-compose.yml ze slo\u017eky.</li> <li>Pokud zm\u011bn\u00ed\u0161 docker-compose.yml, mus\u00ed\u0161 v\u017edy znovu spustit <code>docker compose up -d</code> v termin\u00e1lu, aby se zm\u011bny projevily.</li> <li>Pro dlouhodob\u00fd po\u0159\u00e1dek dr\u017e docker-compose.yml a konfigura\u010dn\u00ed soubory v Gitu, ale ignoruj data, logy a runtime soubory (viz doporu\u010den\u00fd .gitignore).</li> <li>Detailn\u00ed postup najde\u0161 v How-to: Pr\u00e1ce s docker-compose a Docker Desktop.</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#sprint-0-docker-stack-mosquitto-node-red","title":"Sprint 0 \u2014 Docker stack: Mosquitto + Node-RED","text":"<p>Tato str\u00e1nka je konkr\u00e9tn\u00ed realizac\u00ed \u0161ablony Sprintu 0.</p>"},{"location":"projects/sprint-0-docker-stack/#kontext","title":"Kontext","text":"<ul> <li>V\u00fdchoz\u00ed stav: Hostitelsk\u00fd syst\u00e9m je \u010dist\u00fd, c\u00edlem je p\u0159ipravit izolovan\u00e9 prost\u0159ed\u00ed pro dal\u0161\u00ed v\u00fdvoj a testov\u00e1n\u00ed.</li> <li>C\u00edl: P\u0159ipravit z\u00e1kladn\u00ed Docker stack (Mosquitto + Node-RED) jako startovac\u00ed bod pro dal\u0161\u00ed sprinty.</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#1-instalace-dockeru-a-compose","title":"1. Instalace Dockeru a Compose","text":"<p>Podrobn\u00fd n\u00e1vod najde\u0161 v How-to: Instalace Docker + Compose.</p> <p>Z\u00e1kladn\u00ed kroky: - Spus\u0165 <code>wsl --install</code> v PowerShellu (Windows 11). - Po restartu nastav u\u017eivatelsk\u00e9 jm\u00e9no v Ubuntu. - St\u00e1hni a nainstaluj Docker Desktop, povol WSL2 backend. - Ov\u011b\u0159 instalaci p\u0159\u00edkazy <code>docker version</code>, <code>docker compose version</code>, <code>docker run hello-world</code>.</p> <p>Rollback a odinstalace: viz How-to: Instalace Docker + Compose.</p>"},{"location":"projects/sprint-0-docker-stack/#2-overeni-funkcnosti-docker-compose-a-gpu","title":"2. Ov\u011b\u0159en\u00ed funk\u010dnosti Docker Compose a GPU","text":"<p>Z\u00e1kladn\u00ed testy najde\u0161 v How-to: Z\u00e1kladn\u00ed pr\u00e1ce s kontejnery.</p> <p>GPU podpora: Pokud m\u00e1\u0161 NVIDIA GPU, postupuj podle ofici\u00e1ln\u00edho n\u00e1vodu NVIDIA a How-to: Instalace Docker + Compose.</p>"},{"location":"projects/sprint-0-docker-stack/#rollback-odinstalace","title":"Rollback / Odinstalace","text":"<ul> <li>Odinstaluj Docker Desktop z Nastaven\u00ed \u2192 Aplikace</li> <li>Odinstaluj Linux distribuci p\u0159es Microsoft Store \u2192 Moje knihovna</li> <li>Vypni WSL a Virtual Machine Platform:    <pre><code>dism.exe /online /disable-feature /featurename:Microsoft-Windows-Subsystem-Linux\ndism.exe /online /disable-feature /featurename:VirtualMachinePlatform\n</code></pre></li> </ul>"},{"location":"projects/sprint-0-docker-stack/#gpu-podpora-v-dockeru-volitelne","title":"GPU podpora v Dockeru (voliteln\u00e9)","text":"<p>Pokud m\u00e1\u0161 v PC NVIDIA GPU a chce\u0161 ji vyu\u017e\u00edt v kontejnerech (nap\u0159. pro AI nebo video processing), je pot\u0159eba:</p> <ol> <li>M\u00edt nainstalovan\u00e9 aktu\u00e1ln\u00ed NVIDIA ovlada\u010de (pro Windows 11).</li> <li>Pou\u017e\u00edvat Docker Desktop s WSL2 backendem.</li> <li>Ve WSL distribuci (nap\u0159. Ubuntu) nainstalovat NVIDIA Container Toolkit:   ve windows v powershellu:   <pre><code>wsl\n</code></pre>   v ubuntu v bash:   <pre><code>curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey \\\n | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit.gpg\n\ncurl -fsSL https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list \\\n | sed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit.gpg] https://#' \\\n | sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list &gt;/dev/null\n\nsudo apt update\nsudo apt install -y nvidia-container-toolkit\nsudo systemctl restart docker\n</code></pre></li> <li>V Docker Desktop v Settings \u2192 Resources \u2192 GPU povolit pou\u017eit\u00ed karty.</li> <li>Otestovat pomoc\u00ed:   <pre><code>docker run --rm --gpus all nvidia/cuda:12.6.2-base-ubuntu22.04 nvidia-smi\n</code></pre></li> </ol> <p>Pozn\u00e1mka: Pro detailn\u00ed n\u00e1vod viz ofici\u00e1ln\u00ed dokumentaci Dockeru a NVIDIA (https://docs.nvidia.com/cuda/wsl-user-guide/index.html).</p>"},{"location":"projects/sprint-0-docker-stack/#lessons-learned","title":"Lessons learned","text":"<ul> <li>WSL2 je rychlej\u0161\u00ed ne\u017e star\u0161\u00ed Hyper-V backend a m\u00e1 ni\u017e\u0161\u00ed n\u00e1roky na RAM.</li> <li>Pokud m\u00e1\u0161 v\u00edce Linux distribuc\u00ed, v Docker Desktop nastav, kter\u00e1 m\u00e1 b\u011b\u017eet s Dockerem.</li> <li>Na slab\u0161\u00edch stroj\u00edch pom\u016f\u017ee sn\u00ed\u017een\u00ed p\u0159id\u011blen\u00e9 RAM a CPU v Settings \u2192 Resources.</li> <li>Pokud v docker-compose.yml mapuje\u0161 vlastn\u00ed config pro Mosquitto, mus\u00ed\u0161 ho opravdu vytvo\u0159it, jinak broker nenastartuje.</li> <li>MQTT Explorer je skv\u011bl\u00fd n\u00e1stroj na rychl\u00e9 ov\u011b\u0159en\u00ed komunikace, ale v\u017edy ov\u011b\u0159 i logy kontejneru.</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#2-zprovozneni-mosquitto-node-red-stacku-v-dockeru","title":"2. Zprovozn\u011bn\u00ed Mosquitto + Node-RED stacku v Dockeru","text":"<p>Jednou v\u011btou</p> <p>Zprovozn\u011bn\u00ed z\u00e1kladn\u00edho stacku Mosquitto a Node-RED v Dockeru na Windows s WSL2.</p>"},{"location":"projects/sprint-0-docker-stack/#kontext_1","title":"Kontext","text":"<ul> <li>V\u00fdchoz\u00ed stav: Docker Desktop a WSL2 jsou nainstalovan\u00e9 a funk\u010dn\u00ed.</li> <li>C\u00edl: M\u00edt p\u0159ipraven\u00fd a ov\u011b\u0159en\u00fd z\u00e1klad pro dal\u0161\u00ed sprinty (MQTT, Node-RED) v kontejnerech.</li> <li>Pro\u010d te\u010f: Docker umo\u017en\u00ed rychl\u00e9 testov\u00e1n\u00ed, \u010dist\u00e9 prost\u0159ed\u00ed a snadn\u00e9 roz\u0161i\u0159ov\u00e1n\u00ed stacku.</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#postup-hlavni-kroky","title":"Postup (hlavn\u00ed kroky)","text":"Krok Popis Odkaz na How-to 1 Vytvo\u0159en\u00ed docker-compose.yml (viz n\u00ed\u017ee) 2 Spu\u0161t\u011bn\u00ed stacku docker compose up -d 3 Ov\u011b\u0159en\u00ed b\u011bhu Mosquitto a Node-RED \u2013 4 Spr\u00e1va kontejner\u016f docker ps, docker logs, docker exec 5 \u010ci\u0161t\u011bn\u00ed a rollback docker compose down, docker volume rm"},{"location":"projects/sprint-0-docker-stack/#ukazka-docker-composeyml","title":"Uk\u00e1zka docker-compose.yml","text":"<pre><code>version: \"3.9\"\nservices:\n  mosquitto:\n    image: eclipse-mosquitto:2\n    ports:\n      - \"1883:1883\"\n    volumes:\n      - ./mosquitto/config:/mosquitto/config\n      - ./mosquitto/data:/mosquitto/data\n      - ./mosquitto/log:/mosquitto/log\n\n  nodered:\n    image: nodered/node-red:latest\n    ports:\n      - \"1880:1880\"\n    volumes:\n      - ./nodered/data:/data\n</code></pre>"},{"location":"projects/sprint-0-docker-stack/#overeni-behu-mosquitto-a-node-red","title":"Ov\u011b\u0159en\u00ed b\u011bhu Mosquitto a Node-RED","text":"<ol> <li>Zkontroluj b\u011b\u017e\u00edc\u00ed kontejnery:</li> </ol> <p><pre><code>docker ps\n</code></pre>    M\u011bl bys vid\u011bt oba kontejnery, nap\u0159.:</p> CONTAINER ID IMAGE STATUS PORTS NAMES ... eclipse-mosquitto:2 Up ... 0.0.0.0:1883-&gt;1883/tcp ...mosquitto... ... nodered/node-red:latest Up ... 0.0.0.0:1880-&gt;1880/tcp ...nodered... <ol> <li> <p>Ov\u011b\u0159en\u00ed Mosquitta (MQTT broker):</p> </li> <li> <p>Nainstaluj si MQTT klient (nap\u0159. mosquitto-clients ve WSL nebo MQTT Explorer ve Windows).</p> </li> <li> <p>Otev\u0159i dv\u011b termin\u00e1lov\u00e1 okna:</p> <p>V prvn\u00edm spus\u0165 subscriber:  <pre><code>mosquitto_sub -h localhost -t test\n</code></pre>  (\u010dek\u00e1 na zpr\u00e1vy na topicu \"test\")</p> <p>Ve druh\u00e9m okn\u011b publikuj zpr\u00e1vu:  <pre><code>mosquitto_pub -h localhost -t test -m \"ahoj\"\n</code></pre>  Pokud se zpr\u00e1va objev\u00ed v prvn\u00edm okn\u011b, Mosquitto b\u011b\u017e\u00ed spr\u00e1vn\u011b.</p> </li> <li> <p>Pokud Mosquitto neb\u011b\u017e\u00ed, zkontroluj logy:      <pre><code>docker compose logs mosquitto\n</code></pre></p> <p>Nej\u010dast\u011bj\u0161\u00ed probl\u00e9m: chyb\u011bj\u00edc\u00ed nebo nefunk\u010dn\u00ed config soubor v <code>./mosquitto/config</code>. Co se d\u011bje:</p> <ul> <li>Pokud m\u00e1\u0161 volume <code>./mosquitto/config:/mosquitto/config</code> a adres\u00e1\u0159 je pr\u00e1zdn\u00fd, Mosquitto image nenajde \u017e\u00e1dn\u00fd config a broker se nespust\u00ed (i kdy\u017e kontejner v <code>docker ps</code> vypad\u00e1 jako \"Up\").</li> <li>V logu pak uvid\u00ed\u0161 chybu <code>Error: Unable to open config file</code> nebo \"Starting in local only mode...\" (povoleno jen pro localhost).</li> </ul> <p>Mo\u017enosti \u0159e\u0161en\u00ed:</p> <p>a) Rychl\u00fd start bez vlastn\u00edho configu:  - Do\u010dasn\u011b zakomentuj nebo odstra\u0148 \u0159\u00e1dek s volume pro config v <code>docker-compose.yml</code>:    <pre><code># - ./mosquitto/config:/mosquitto/config\n</code></pre>  - Spus\u0165 stack znovu:    <pre><code>docker compose down\ndocker compose up -d\n</code></pre>  - Mosquitto pak pou\u017eije vestav\u011bn\u00fd default config (ale povol\u00ed jen p\u0159\u00edstup z localhost uvnit\u0159 kontejneru).</p> <p>b) Vytvo\u0159 si vlastn\u00ed minim\u00e1ln\u00ed config:  - Vytvo\u0159 slo\u017eku <code>mosquitto/config</code> vedle sv\u00e9ho <code>docker-compose.yml</code>.  - Do souboru <code>mosquitto/config/mosquitto.conf</code> vlo\u017e nap\u0159\u00edklad:    <pre><code># Poslouchej na v\u0161ech rozhran\u00edch na portu 1883\nlistener 1883\n\n# Povolit p\u0159ipojen\u00ed bez autentizace (jen na testy!)\nallow_anonymous true\n\n# Ulo\u017e data a logy (adres\u00e1\u0159e mapuje\u0161 v docker-compose.yml)\npersistence true\npersistence_location /mosquitto/data/\n\nlog_dest file /mosquitto/log/mosquitto.log\n</code></pre>  - Ujisti se, \u017ee v <code>docker-compose.yml</code> je volume pro config odkomentovan\u00fd:    <pre><code>- ./mosquitto/config:/mosquitto/config\n</code></pre>  - Spus\u0165 stack znovu:    <pre><code>docker compose down\ndocker compose up -d\n</code></pre>  - V logu u\u017e by nem\u011bla b\u00fdt hl\u00e1\u0161ka \"local only mode\" a MQTT Explorer se p\u0159ipoj\u00ed z hosta na <code>localhost:1883</code>.</p> <p>Pozn\u00e1mka: V z\u00e1kladn\u00edm image Mosquitta nen\u00ed \u017e\u00e1dn\u00e9 v\u00fdchoz\u00ed jm\u00e9no/heslo. Pokud chce\u0161 zabezpe\u010dit p\u0159\u00edstup, mus\u00ed\u0161 si v configu nastavit password_file a dal\u0161\u00ed parametry (viz dokumentace Mosquitta).</p> </li> <li> <p>Ov\u011b\u0159en\u00ed Node-RED:</p> </li> <li> <p>Otev\u0159i prohl\u00ed\u017ee\u010d a p\u0159ejdi na:      http://localhost:1880</p> </li> <li>Pokud se na\u010dte Node-RED UI, v\u0161e funguje.</li> </ol>"},{"location":"projects/sprint-0-docker-stack/#prakticky-testovaci-flow-mqtt-explorer-wsl2-a-docker-klient","title":"Praktick\u00fd testovac\u00ed flow: MQTT Explorer, WSL2 a Docker klient","text":""},{"location":"projects/sprint-0-docker-stack/#co-je-co","title":"Co je co?","text":"<ul> <li>Broker (Mosquitto) b\u011b\u017e\u00ed v Dockeru a poslouch\u00e1 na localhost:1883 (d\u00edky <code>ports: 1883:1883</code>).</li> <li>MQTT Explorer (Windows app) je klient. P\u0159ipojuje se na localhost:1883.</li> <li>Publikovat m\u016f\u017ee\u0161 bu\u010f p\u0159\u00edmo z MQTT Exploreru, nebo z WSL2 (nebo z dal\u0161\u00edho kontejneru).</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#nejkratsi-funkcni-testy-vyber-si-jeden","title":"Nejkrat\u0161\u00ed funk\u010dn\u00ed testy (vyber si jeden):","text":"<p>A) V\u0161echno jen v MQTT Exploreru (nejjednodu\u0161\u0161\u00ed): 1. V MQTT Exploreru klikni na Subscribe na topic <code>test/topic</code>. 2. Vpravo dole Publish na stejn\u00fd topic <code>test/topic</code>, payload t\u0159eba <code>hello</code>. 3. Zpr\u00e1va se hned objev\u00ed vlevo. Hotovo.</p> <p>B) Publikace z WSL2 (kdy\u017e chce\u0161 m\u00edt jistotu \u201ez jin\u00e9ho m\u00edsta\u201c): 1. Ve WSL spus\u0165:    <pre><code>sudo apt-get update\nsudo apt-get install -y mosquitto-clients\nmosquitto_pub -h localhost -t test/topic -m \"ahoj z WSL\"\n</code></pre> 2. V MQTT Exploreru (subscribed na <code>test/topic</code>) uvid\u00ed\u0161 zpr\u00e1vu. 3. (Voliteln\u011b) Otev\u0159i druh\u00e9 WSL okno a spus\u0165 subscriber:    <pre><code>mosquitto_sub -h localhost -t test/topic\n</code></pre>    a v Exploreru klikni Publish \u2192 uvid\u00ed\u0161 to v termin\u00e1lu.</p> <p>C) Publikace z Dockeru (bez instalace klient\u016f do WSL): 1. Z adres\u00e1\u0159e s docker-compose.yml spus\u0165:    <pre><code>docker run --rm --network mqtt_node-red_default eclipse-mosquitto:2 \\\n  mosquitto_pub -h mosquitto -t test/topic -m \"ahoj z vedlej\u0161\u00edho kontejneru\"\n</code></pre>    (S\u00ed\u0165 <code>mqtt_node-red_default</code> se jmenuje podle tv\u00e9 slo\u017eky; ov\u011b\u0159 p\u0159\u00edkazem <code>docker network ls</code>.) 2. V MQTT Exploreru zpr\u00e1vu uvid\u00ed\u0161.</p>"},{"location":"projects/sprint-0-docker-stack/#kdyz-to-stale-neukaze-zpravy","title":"Kdy\u017e to st\u00e1le neuk\u00e1\u017ee zpr\u00e1vy:","text":"<ul> <li>V <code>mosquitto.conf</code> mus\u00ed\u0161 m\u00edt aspo\u0148:   <pre><code>listener 1883\nallow_anonymous true\n</code></pre></li> <li>Po \u00faprav\u011b configu v\u017edy restartuj stack:   <pre><code>docker compose down\ndocker compose up -d\n</code></pre></li> <li>Ov\u011b\u0159 porty a stav:   <pre><code>docker ps\ndocker compose logs mosquitto\n</code></pre></li> <li>V logu nesm\u00ed b\u00fdt \u201elocal only mode\u2026\u201c.</li> <li>V MQTT Exploreru: Host <code>localhost</code>, Port <code>1883</code>, TLS/Validate vypnuto, bez user/pass.</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#sprava-kontejneru","title":"Spr\u00e1va kontejner\u016f","text":"<ul> <li><code>docker ps</code> \u2014 seznam b\u011b\u017e\u00edc\u00edch kontejner\u016f</li> <li><code>docker logs &lt;jm\u00e9no&gt;</code> \u2014 v\u00fdpis log\u016f</li> <li><code>docker exec -it &lt;jm\u00e9no&gt; sh</code> \u2014 vstup do kontejneru</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#cisteni","title":"\u010ci\u0161t\u011bn\u00ed","text":"<ul> <li><code>docker compose down</code> \u2014 zastaven\u00ed a odstran\u011bn\u00ed kontejner\u016f</li> <li><code>docker volume rm &lt;n\u00e1zev&gt;</code> \u2014 odstran\u011bn\u00ed svazk\u016f (smaz\u00e1n\u00ed dat)</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#vysledek","title":"V\u00fdsledek","text":"<ul> <li>Jedn\u00edm p\u0159\u00edkazem (<code>docker compose up -d</code>) spust\u00ed\u0161 Mosquitto + Node-RED.</li> <li>Konfigurace je ulo\u017een\u00e1 ve svazc\u00edch a p\u0159e\u017eije restart.</li> <li>Dokumentace obsahuje instalaci a z\u00e1klady pr\u00e1ce s Dockerem.</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#rizika-lessons-learned","title":"Rizika / Lessons learned","text":"<ul> <li>Docker na Windows pot\u0159ebuje WSL2 (nutn\u00e1 aktivace ve Windows Features).</li> <li>P\u0159i kolizi port\u016f je pot\u0159eba zm\u011bnit mapov\u00e1n\u00ed v docker-compose.yml.</li> <li>Vy\u010di\u0161t\u011bn\u00ed star\u00fdch obraz\u016f (<code>docker image prune</code>) a svazk\u016f (<code>docker volume prune</code>) je nutn\u00e9 \u010das od \u010dasu prov\u00e9st.</li> </ul>"},{"location":"projects/sprint-0-docker-stack/#dalsi-kroky","title":"Dal\u0161\u00ed kroky","text":"<ul> <li>Projekt: Docker base env \u2014 architektura a roz\u0161i\u0159itelnost stacku</li> <li>Sprint 1: Lok\u00e1ln\u00ed MQTT tok (ESP32 \u2192 Mosquitto \u2192 Node-RED dashboard)</li> <li>P\u0159idat InfluxDB do stacku ve Sprintu 3.</li> </ul>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/","title":"Sprint 1 \u2014 Lok\u00e1ln\u00ed MQTT tok (ESP32 \u2192 Mosquitto \u2192 Node-RED)","text":"<p>Kontext a c\u00edl</p> <pre><code>V\u00fdchoz\u00ed stav: Docker stack s Mosquitto a Node-RED z Sprint-0 b\u011b\u017e\u00ed na localhostu.\n\nC\u00edl: V\u00e9st prvn\u00ed re\u00e1ln\u00fd datov\u00fd tok z ESP32 do MQTT a vizualizovat ho v Node-RED dashboardu + zalo\u017eit minim\u00e1ln\u00ed dokumentaci (How-to, ADR, Project page).\n\nPro\u010d takto: Je to nejkrat\u0161\u00ed \u201eend-to-end\u201c v\u00fdsledek, na kter\u00fd se pozd\u011bji bezpe\u010dn\u011b vrstv\u00ed zabezpe\u010den\u00ed, historizace a dal\u0161\u00ed integrace.\n</code></pre>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#prehled-kroku-high-level","title":"P\u0159ehled krok\u016f (high-level)","text":"# Co Pro\u010d 1 Ov\u011b\u0159it stav stacku z Sprint-0 (porty 1883/1880, logy) Minimalizace \u0161umu \u2013 a\u0165 nehon\u00ed\u0161 chybu jinde. 2 Navrhnout topic namespace Stabiln\u00ed jmenn\u00fd prostor \u0161et\u0159\u00ed refaktoring a debug. 3 Nastavit Mosquitto pro lok\u00e1ln\u00ed v\u00fdvoj Transparentn\u00ed testy, pozd\u011bji snadn\u00e1 v\u00fdm\u011bna za TLS. 4 P\u0159ipravit Node-RED dashboard (1 graf, 1 text) Rychl\u00e1 vizu\u00e1ln\u00ed zp\u011btn\u00e1 vazba. 5 Publikovat z ESP32 periodick\u00e1 data Prvn\u00ed skute\u010dn\u00fd producent dat, test stabiln\u00ed konektivity. 6 Ov\u011b\u0159it tok (MQTT Explorer, Node-RED, logy) Uzav\u0159en\u00ed smy\u010dky, \u201eDefinition of Done\u201c. 7 Zalo\u017eit dokumentaci (How-to, ADR, Project page) Udr\u017eitelnost, p\u0159enositelnost, opakovatelnost."},{"location":"projects/sprint-1-lokalni-mqtt-tok/#krok-po-kroku-detail","title":"Krok-po-kroku (detail)","text":""},{"location":"projects/sprint-1-lokalni-mqtt-tok/#1-overeni-stacku-ze-sprint-0","title":"1) Ov\u011b\u0159en\u00ed stacku ze Sprint-0","text":"<p>Zkontroluj b\u011bh obou kontejner\u016f, mapovan\u00e9 porty 1883 (MQTT) a 1880 (Node-RED), logy Mosquitta bez \u201elocal only mode\u2026\u201c, dostupnost Node-RED UI. Pro\u010d: Eliminuje\u0161 fale\u0161n\u00e9 chyby v dal\u0161\u00edch kroc\u00edch. Vzor kontrol najde\u0161 ve Sprint-0 (sekce \u201eOv\u011b\u0159en\u00ed b\u011bhu\u2026\u201c).</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#2-navrh-topic-namespace-minimalni-konvence","title":"2) N\u00e1vrh topic namespace (minim\u00e1ln\u00ed konvence)","text":"<p>Podrobn\u00fd n\u00e1vod a doporu\u010den\u00e9 konvence najde\u0161 v How-to: N\u00e1vrh MQTT namespace.</p> <p>Princip: <code>v1/&lt;org&gt;/&lt;site&gt;/&lt;device&gt;/&lt;channel&gt;/&lt;metric&gt;</code> P\u0159\u00edklad: <code>v1/home/lab/esp32-01/tele/temperature</code> Dopl\u0148ky: QoS 0, retain jen pro \u201eposledn\u00ed zn\u00e1mou hodnotu\u201c. Pro\u010d: Jednou zvolen\u00fd pattern sni\u017euje budouc\u00ed drift v Node-RED flow a v InfluxDB/Power BI.</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#2a-last-will-testament-lwt-v-mqtt","title":"2a) Last Will &amp; Testament (LWT) v MQTT","text":"<p>Podrobn\u00fd popis a p\u0159\u00edklad nastaven\u00ed LWT najde\u0161 v Reference: LWT v MQTT.</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#3-mosquitto-lokalni-vyvojovy-profil","title":"3) Mosquitto \u2013 lok\u00e1ln\u00ed v\u00fdvojov\u00fd profil","text":"<p>C\u00edl: Lok\u00e1ln\u00ed broker akceptuje p\u0159ipojen\u00ed z hostitele i ESP32 v LAN bez TLS, voliteln\u011b s heslem. Pro\u010d ESP32? Viz ADR 0003: Volba platformy pro edge za\u0159\u00edzen\u00ed \u2014 ESP32. Postup a minim\u00e1ln\u00ed config najde\u0161 v How-to: Mosquitto \u2013 lok\u00e1ln\u00ed v\u00fdvojov\u00fd profil. Po nasazen\u00ed zkontroluj log, aby neb\u011b\u017eelo \u201elocal only mode\u201c. Minim\u00e1ln\u00ed nastaven\u00ed: listener na 1883, persistence on, log do souboru, allow_anonymous (jen pro lab). Vzor i typick\u00e9 chybov\u00e9 stavy m\u00e1\u0161 pops\u00e1ny ve Sprint-0. Pro z\u00e1kladn\u00ed nastaven\u00ed a spu\u0161t\u011bn\u00ed ESP32 pou\u017eij: - How-to: ESP32 \u2192 MQTT v Pythonu (MicroPython) Pro\u010d: Stabiln\u00ed lok\u00e1ln\u00ed playground; bezpe\u010dnost (TLS, ACL, password_file) p\u0159id\u00e1\u0161 ve Sprintu 4.</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#4-node-red-zakladni-flow-dashboard","title":"4) Node-RED \u2013 z\u00e1kladn\u00ed flow + dashboard","text":"<p>C\u00edl: Jednoduch\u00fd tok \u201eMQTT in \u2192 (optional transform) \u2192 text + chart\u201c. MQTT in: subscribe na konkr\u00e9tn\u00ed topic z bodu 2. Transform: jednoduch\u00fd p\u0159evod na \u010d\u00edslo + timestamp (kv\u016fli grafu). Dashboard: jeden \u201etext\u201c (aktu\u00e1ln\u00ed hodnota) a jeden \u201echart\u201c (posledn\u00edch X minut). Pro\u010d: Vid\u00ed\u0161 \u017eiv\u00e1 data bez slo\u017eitost\u00ed.</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#5-esp32-publikace-telemetrie","title":"5) ESP32 \u2013 publikace telemetrie","text":"<p>C\u00edl: Ka\u017ed\u00fdch 5\u201310 s poslat metrickou hodnotu na zvolen\u00fd topic. Parametry: SSID/heslo, IP brokera (lok\u00e1ln\u00ed), clientId, keepalive ~60 s, last-will (voliteln\u00e9). Pro\u010d: Ov\u011b\u0159\u00ed\u0161 realitu (Wi-Fi, MQTT reconnect, latence), ne jen lab s PC.</p> <p>Vyber jednu z variant: MicroPython / ESPHome / Tasmota / PlatformIO. P\u0159ehled a ready-to-run n\u00e1vody najde\u0161 v ESP32 \u2192 MQTT \u2013 varianty.</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#5a-esp32-flashni-minimalni-profil-varianty","title":"5a) ESP32 \u2013 flashni minim\u00e1ln\u00ed profil (varianty)","text":"<p>Pou\u017eij hotov\u00fd z\u00e1klad z vybran\u00e9 varianty: - MicroPython - ESPHome - Tasmota - PlatformIO/Arduino</p> <p>Uprav Wi-Fi, MQTT a device ID. LWT: .../meta/status pos\u00edl\u00e1 ONLINE (retained) po p\u0159ipojen\u00ed a broker publikuje OFFLINE (retained) p\u0159i p\u00e1du/odpojen\u00ed. Topics: v\u017edy <code>v1/&lt;org&gt;/&lt;site&gt;/&lt;device&gt;/&lt;channel&gt;/&lt;metric&gt;</code>, telemetrie ka\u017ed\u00fdch 5 s, QoS 0, retain pouze pro status.</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#5b-esp32-mini-sketch-arduinoplatformio","title":"5b) ESP32 \u2013 mini-sketch (Arduino/PlatformIO)","text":"<p>Pro Arduino/PlatformIO pou\u017eij How-to: ESP32 \u2192 MQTT (mini-sketch) a sjedno\u0165 topics podle konvence.</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#5a-esp32-flashni-minimalni-sketch","title":"5a) ESP32 \u2013 flashni minim\u00e1ln\u00ed sketch","text":"<p>Pou\u017eij hotov\u00fd z\u00e1klad z How-to: ESP32 \u2192 MQTT (mini-sketch).</p> <p>Uprav WIFI_SSID, WIFI_PASS, MQTT_HOST, CLIENT_ID.</p> <p>Ujisti se, \u017ee topic odpov\u00edd\u00e1 dohodnut\u00e9 konvenci z kroku 2.</p> <p>LWT: .../meta/status pos\u00edl\u00e1 ONLINE (retained) po p\u0159ipojen\u00ed a broker publikuje OFFLINE (retained) p\u0159i p\u00e1du/odpojen\u00ed.</p> <p>Definition of Done (roz\u0161\u00ed\u0159en\u00ed):</p> <p>.../meta/status m\u00e1 spr\u00e1vn\u00fd stav (ONLINE/OFFLINE, retained).</p> <p>MQTT Explorer ukazuje telemetrii i status v re\u00e1ln\u00e9m \u010dase; Node\u2011RED dashboard reaguje do 2 s.</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#6-end-to-end-overeni","title":"6) End-to-end ov\u011b\u0159en\u00ed","text":"<p>MQTT Explorer: subscribe na vybran\u00fd topic, sleduj payload, Node-RED dashboard zobrazuje \u017eiv\u00fd text i graf, logy Mosquitta kontroluj\u00ed p\u0159ipojen\u00ed klienta ESP32. Pro\u010d: Potvrzen\u00ed, \u017ee v\u0161e (s\u00ed\u0165, broker, transformace, UI) dr\u017e\u00ed pohromad\u011b.</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#7-dokumentace","title":"7) Dokumentace","text":"<p>Vytvo\u0159 3 minim\u00e1ln\u00ed str\u00e1nky (How-to, ADR, Project): - How-to: \u201eMosquitto \u2013 lok\u00e1ln\u00ed broker\u201c (setup + ov\u011b\u0159en\u00ed) - How-to: \u201eNode-RED \u2013 z\u00e1kladn\u00ed flow a dashboard\u201c - ADR-0001 \u201eVolba stacku\u201c - Project \u201eSprint-1\u201c \u2013 c\u00edl, p\u0159\u00ednos, odkazy na How-to, DoD</p>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#definition-of-done-dod","title":"Definition of Done (DoD)","text":"<ul> <li>MQTT Explorer zobrazuje data z ESP32 v re\u00e1ln\u00e9m \u010dase na dohodnut\u00e9m topicu.</li> <li>Node-RED dashboard: 1 text + 1 graf, aktualizace do 2 s od publikace.</li> <li>.../meta/status m\u00e1 spr\u00e1vn\u00fd stav (ONLINE/OFFLINE, retained).</li> <li>MQTT Explorer ukazuje telemetrii i status v re\u00e1ln\u00e9m \u010dase; Node\u2011RED dashboard reaguje do 2 s.</li> <li>Repo/web obsahuj\u00ed: 2\u00d7 How-to, 1\u00d7 ADR, 1\u00d7 Project page s odkazy.</li> </ul>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#overeni-a-testy-rychle-scenare","title":"Ov\u011b\u0159en\u00ed a testy (rychl\u00e9 sc\u00e9n\u00e1\u0159e)","text":"<ul> <li>\u201eHappy path\u201c: ESP32 b\u011b\u017e\u00ed 10 minut, \u017e\u00e1dn\u00fd reconnect; graf pr\u016fb\u011b\u017en\u011b roste.</li> <li>Reconnect test: restart brokera; ESP32 do 30 s znovu p\u0159ipojen a publikuje.</li> <li>Data test: payload je \u010d\u00edslo nebo jednoduch\u00fd JSON s hodnotou + timestamp; Node-RED p\u0159evod funguje.</li> <li>Negativn\u00ed: zm\u011bna topicu na nespr\u00e1vn\u00fd \u2192 dashboard nic nezobrazuje (o\u010dek\u00e1van\u00e9).</li> </ul>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#rollback-cleanup","title":"Rollback / Cleanup","text":"<ul> <li>Zastaven\u00ed stacku a vy\u010di\u0161t\u011bn\u00ed svazk\u016f pro \u201e\u010dist\u00fd start\u201c (viz Sprint-0 \u201e\u010ci\u0161t\u011bn\u00ed\u201c).</li> <li>ESP32: revert sketch na \u201eno-op\u201c (nepublikuje nic).</li> <li>Dokumentace: ponech ADR/Project, How-to ozna\u010d jako \u201eWIP\u201c (label v hlavi\u010dce).</li> </ul>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#rizika-a-mitigace","title":"Rizika a mitigace","text":"<ul> <li>Chybn\u00e9 mapov\u00e1n\u00ed port\u016f nebo pr\u00e1zdn\u00fd config Mosquitta \u2192 broker nenab\u011bhne spr\u00e1vn\u011b; kontroluj log a existenci configu.</li> <li>Nestabiln\u00ed Wi-Fi \u2192 kr\u00e1tk\u00e9 publish intervaly odhal\u00ed reconnecty; p\u0159idej last-will.</li> <li>Nekonzistentn\u00ed topic names \u2192 od za\u010d\u00e1tku dr\u017e konvenci z kroku 2.</li> </ul>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#kanban-navrh-wip-friendly-toku","title":"Kanban (n\u00e1vrh WIP-friendly toku)","text":"<pre><code>kanban\n        section Backlog\n            N\u00e1vrh topic namespace\n            Lok\u00e1ln\u00ed profil Mosquitta pro v\u00fdvoj\n            Minim\u00e1ln\u00ed Node-RED dashboard\n            ESP32 publika\u010dn\u00ed sketch\n            Ov\u011b\u0159ovac\u00ed sc\u00e9n\u00e1\u0159e\n            Dokumentace (2\u00d7 How-to, ADR-0001, Project)\n        section To Do\n            Zapnout a ov\u011b\u0159it stack (Sprint-0)\n            P\u0159ipravit topic konvenci a rozeslat do README\n        section Doing\n            Node-RED z\u00e1kladn\u00ed flow\n            ESP32 \u2192 MQTT publikace\n        section Review\n            Testovac\u00ed sc\u00e9n\u00e1\u0159e (happy/negative)\n            \u010cten\u00ed a korektura How-to a ADR\n        section Done\n            DoD spln\u011bno, dashboard screenshot ulo\u017een do Project page</code></pre>"},{"location":"projects/sprint-1-lokalni-mqtt-tok/#odkazy-a-zdroje","title":"Odkazy a zdroje","text":"<ul> <li>How-to: Instalace Mosquitto</li> <li>How-to: Node-RED z\u00e1kladn\u00ed flow</li> <li>How-to: ESP32 \u2192 MQTT</li> <li>ADR-0001: Volba stacku</li> </ul>"},{"location":"projects/sprint-2-opcua-mqtt-bridge/","title":"Sprint 2 \u2014 OPC UA simulace + bridge do MQTT","text":"<p>Jednou v\u011btou</p> <p>\u010cten\u00ed dat z OPC UA simul\u00e1toru a jejich p\u0159enos do MQTT p\u0159es Node-RED bridge.</p>"},{"location":"projects/sprint-2-opcua-mqtt-bridge/#kontext","title":"Kontext","text":"<ul> <li>V\u00fdchoz\u00ed stav: Funk\u010dn\u00ed MQTT tok, z\u00e1kladn\u00ed dashboard, dokumentace k labu.</li> <li>C\u00edl: Nau\u010dit se z\u00edsk\u00e1vat data z OPC UA serveru a pos\u00edlat je do MQTT, v\u010detn\u011b z\u00e1kladn\u00ed anal\u00fdzy provozn\u00edch dat.</li> <li>Pro\u010d te\u010f: OPC UA je kl\u00ed\u010dov\u00fd pr\u016fmyslov\u00fd protokol, most do MQTT umo\u017en\u00ed dal\u0161\u00ed integrace a analytiku.</li> </ul>"},{"location":"projects/sprint-2-opcua-mqtt-bridge/#architektura","title":"Architektura","text":"<pre><code>flowchart LR\n    OPCUA[OPC UA simul\u00e1tor] --&gt;|Read| NodeRED[Node-RED]\n    NodeRED --&gt;|MQTT publish| Mosquitto[(Mosquitto broker)]\n    Mosquitto --&gt;|subscribe| Dashboard[Dashboard /ui]</code></pre>"},{"location":"projects/sprint-2-opcua-mqtt-bridge/#postup-hlavni-kroky","title":"Postup (hlavn\u00ed kroky)","text":"Krok Popis Odkaz na How-to 1 Instalace a spu\u0161t\u011bn\u00ed OPC UA simul\u00e1toru (nap\u0159. Prosys) \u2013 2 Node-RED: OPC UA client \u2192 na\u010dten\u00ed prom\u011bnn\u00fdch OPC UA \u2192 MQTT bridge 3 Node-RED: MQTT publish do brokeru OPC UA \u2192 MQTT bridge 4 MQTT Explorer: ov\u011b\u0159en\u00ed dat z OPC UA v MQTT MQTT Explorer 5 Dokumentace \u2013 How-to, ADR, Project update ADR, How-to"},{"location":"projects/sprint-2-opcua-mqtt-bridge/#vysledek","title":"V\u00fdsledek","text":"<ul> <li>Data z OPC UA jsou vid\u011bt v MQTT Exploreru.</li> <li>Node-RED bridge b\u011b\u017e\u00ed automaticky po restartu.</li> <li>Web obsahuje nov\u00e9 How-to a ADR pro OPC UA \u2192 MQTT.</li> </ul>"},{"location":"projects/sprint-2-opcua-mqtt-bridge/#rizika-lessons-learned","title":"Rizika / Lessons learned","text":"<ul> <li>Kompatibilita OPC UA klienta a serveru.</li> <li>Spr\u00e1vn\u00e9 mapov\u00e1n\u00ed prom\u011bnn\u00fdch do MQTT t\u00e9mat.</li> <li>Automatizace spu\u0161t\u011bn\u00ed Node-RED bridge.</li> </ul>"},{"location":"projects/sprint-2-opcua-mqtt-bridge/#dalsi-kroky","title":"Dal\u0161\u00ed kroky","text":"<ul> <li>Sprint 3: Ukl\u00e1d\u00e1n\u00ed dat do InfluxDB, napojen\u00ed na cloudov\u00fd MQTT.</li> <li>Roz\u0161\u00ed\u0159it dashboard o historick\u00e1 data.</li> </ul>"},{"location":"projects/sprint-3-mqtt-cloud-influxdb/","title":"Sprint 3 \u2014 MQTT do cloudu + historick\u00e1 data","text":"<p>Jednou v\u011btou</p> <p>Pos\u00edl\u00e1n\u00ed dat z lok\u00e1ln\u00edho MQTT brokeru do cloudov\u00e9ho MQTT a ukl\u00e1d\u00e1n\u00ed do \u010dasov\u00e9 datab\u00e1ze (InfluxDB).</p>"},{"location":"projects/sprint-3-mqtt-cloud-influxdb/#kontext","title":"Kontext","text":"<ul> <li>V\u00fdchoz\u00ed stav: Data z OPC UA jsou v MQTT, z\u00e1kladn\u00ed dashboard a dokumentace hotov\u00e1.</li> <li>C\u00edl: Umo\u017enit ukl\u00e1d\u00e1n\u00ed historick\u00fdch dat a p\u0159enos vybran\u00fdch t\u00e9mat do cloudu (HiveMQ Cloud).</li> <li>Pro\u010d te\u010f: Historie a cloudov\u00e1 integrace jsou kl\u00ed\u010dov\u00e9 pro analytiku a \u0161k\u00e1lov\u00e1n\u00ed \u0159e\u0161en\u00ed.</li> </ul>"},{"location":"projects/sprint-3-mqtt-cloud-influxdb/#architektura","title":"Architektura","text":"<pre><code>flowchart LR\n    Mosquitto[(MQTT broker)] --&gt;|forward| HiveMQ[HiveMQ Cloud]\n    Mosquitto --&gt;|subscribe| NodeRED[Node-RED]\n    NodeRED --&gt;|write| InfluxDB[InfluxDB]\n    NodeRED --&gt;|dashboard| Dashboard[Dashboard /ui]</code></pre>"},{"location":"projects/sprint-3-mqtt-cloud-influxdb/#postup-hlavni-kroky","title":"Postup (hlavn\u00ed kroky)","text":"Krok Popis Odkaz na How-to 1 Nastaven\u00ed forwardingu MQTT do HiveMQ Cloud HiveMQ napojen\u00ed 2 Instalace a konfigurace InfluxDB InfluxDB instalace 3 Node-RED: ukl\u00e1d\u00e1n\u00ed dat do InfluxDB Node-RED \u2192 InfluxDB 4 Dashboard: zobrazen\u00ed historick\u00fdch dat Node-RED dashboard 5 Dokumentace \u2013 How-to, ADR, Project update ADR, How-to"},{"location":"projects/sprint-3-mqtt-cloud-influxdb/#vysledek","title":"V\u00fdsledek","text":"<ul> <li>Data jsou vid\u011bt v HiveMQ Cloud klientu.</li> <li>InfluxDB obsahuje historick\u00e1 data z posledn\u00edch 24h.</li> <li>Web m\u00e1 nov\u00e9 How-to a ADR k architektu\u0159e brokeru.</li> </ul>"},{"location":"projects/sprint-3-mqtt-cloud-influxdb/#rizika-lessons-learned","title":"Rizika / Lessons learned","text":"<ul> <li>Spr\u00e1vn\u00e9 nastaven\u00ed forwardingu MQTT.</li> <li>Kompatibilita Node-RED a InfluxDB.</li> <li>Bezpe\u010dnostn\u00ed aspekty cloudov\u00e9ho p\u0159enosu.</li> </ul>"},{"location":"projects/sprint-3-mqtt-cloud-influxdb/#dalsi-kroky","title":"Dal\u0161\u00ed kroky","text":"<ul> <li>Sprint 4: Z\u00e1klady bezpe\u010dnosti (TLS, VLAN, firewall).</li> <li>Roz\u0161\u00ed\u0159it dashboard o pokro\u010dil\u00e9 vizualizace.</li> </ul>"},{"location":"projects/sprint-4-ot-it-security/","title":"Sprint 4: Z\u00e1klady bezpe\u010dnosti OT \u2194 IT (realizace)","text":"<p>Tato str\u00e1nka popisuje konkr\u00e9tn\u00ed realizaci sprintu zam\u011b\u0159en\u00e9ho na z\u00e1kladn\u00ed bezpe\u010dnostn\u00ed opat\u0159en\u00ed v OT/IT laborato\u0159i.</p>"},{"location":"projects/sprint-4-ot-it-security/#cil","title":"C\u00edl","text":"<ul> <li>Zabezpe\u010dit komunikaci mezi OT a IT \u010d\u00e1st\u00ed pomoc\u00ed TLS, autentizace a segmentace s\u00edt\u011b.</li> </ul>"},{"location":"projects/sprint-4-ot-it-security/#realizovane-kroky","title":"Realizovan\u00e9 kroky","text":""},{"location":"projects/sprint-4-ot-it-security/#1-mqtt-broker-mosquitto-tls-a-hesla","title":"1. MQTT broker (Mosquitto) \u2013 TLS a hesla","text":"<ul> <li>Vygenerov\u00e1ny certifik\u00e1ty (self-signed)</li> <li>Upraven <code>mosquitto.conf</code> pro port 8883, povoleno pouze p\u0159ihl\u00e1\u0161en\u00ed s heslem</li> <li>Otestov\u00e1no p\u0159ipojen\u00ed klienta s TLS (MQTT Explorer)</li> </ul>"},{"location":"projects/sprint-4-ot-it-security/#2-opc-ua-securechannel","title":"2. OPC UA SecureChannel","text":"<ul> <li>Na serveru povolena SecurityPolicy <code>Basic256Sha256</code></li> <li>Vytvo\u0159eny a importov\u00e1ny certifik\u00e1ty pro server i klienta</li> <li>Ov\u011b\u0159eno p\u0159ipojen\u00ed klienta pouze p\u0159es zabezpe\u010den\u00fd kan\u00e1l</li> </ul>"},{"location":"projects/sprint-4-ot-it-security/#3-vlan-segmentace","title":"3. VLAN segmentace","text":"<ul> <li>Vytvo\u0159eny dv\u011b VLAN (OT, IT) na switchi</li> <li>Edge gateway nakonfigurov\u00e1na pro routov\u00e1n\u00ed a firewall</li> <li>Ov\u011b\u0159eno odd\u011blen\u00ed provozu (ping, p\u0159\u00edstup ke slu\u017eb\u00e1m)</li> </ul>"},{"location":"projects/sprint-4-ot-it-security/#4-firewall-na-edge","title":"4. Firewall na Edge","text":"<ul> <li>Otev\u0159eny pouze nezbytn\u00e9 porty (MQTT, OPC UA, Node-RED dashboard)</li> <li>Otestov\u00e1no blokov\u00e1n\u00ed ostatn\u00edch port\u016f</li> </ul>"},{"location":"projects/sprint-4-ot-it-security/#dokumentace-a-navody","title":"Dokumentace a n\u00e1vody","text":"<ul> <li>How-to: Mosquitto Security (TLS, auth, ACL, QoS)</li> <li>How-to: OPC UA SecureChannel</li> <li>Playbook: OT/IT segmentace</li> </ul>"},{"location":"projects/sprint-4-ot-it-security/#vysledky","title":"V\u00fdsledky","text":"<ul> <li>MQTT broker a OPC UA server jsou dostupn\u00e9 pouze p\u0159es zabezpe\u010den\u00e9 kan\u00e1ly</li> <li>IT a OT s\u00edt\u011b jsou odd\u011blen\u00e9, komunikace je \u0159\u00edzena pravidly firewallu</li> <li>V\u0161echny kroky jsou zdokumentov\u00e1ny v how-to a playbooku</li> </ul>"},{"location":"projects/templates/project-template/","title":"{N\u00e1zev projektu}","text":"<p>C\u00edl: Kontext: pro\u010d to d\u011bl\u00e1m, vazby na provoz. Po\u017eadavky: funk\u010dn\u00ed, nefunk\u010dn\u00ed, bezpe\u010dnost. Architektura: diagram + popis toku dat. Metriky \u00fasp\u011bchu: jak m\u011b\u0159\u00edm hotovo.</p>"},{"location":"projects/templates/project-template/#postup","title":"Postup","text":"<ul> <li>F\u00e1ze 1 \u2026</li> <li>F\u00e1ze 2 \u2026</li> </ul>"},{"location":"projects/templates/project-template/#vysledky","title":"V\u00fdsledky","text":"<ul> <li>Co je hotov\u00e9, odkazy na how\u2011to.</li> </ul>"},{"location":"projects/templates/project-template/#rizika-a-mitigace","title":"Rizika a mitigace","text":"<ul> <li>\u2026</li> </ul>"},{"location":"projects/templates/project-template/#next","title":"Next","text":"<ul> <li>Dal\u0161\u00ed kroky.</li> </ul>"},{"location":"reference/","title":"Reference","text":"<p>Tato sekce obsahuje: - Slovn\u00ed\u010dek pojm\u016f (Glossary, ADR vysv\u011btlivky, MQTT LWT) - \u0160ablony (Sprint, How-to, ADR)</p> <p>Reference = \u0161ablony a definice pojm\u016f. Projekty = re\u00e1ln\u00e9 sprinty a implementace.</p>"},{"location":"reference/adr-explanations/","title":"Co je ADR (Architecture Decision Record)","text":"<p>ADR (Architecture Decision Record) je stru\u010dn\u00fd, form\u00e1ln\u00ed z\u00e1pis d\u016fle\u017eit\u00fdch architektonick\u00fdch rozhodnut\u00ed v projektu. Koncept poch\u00e1z\u00ed od Michaela Nygarda (Documenting Architecture Decisions).</p>"},{"location":"reference/adr-explanations/#proc-adr","title":"Pro\u010d ADR","text":"<ul> <li>Zvy\u0161uje transparentnost a kontinuitu projektu</li> <li>Umo\u017e\u0148uje rychl\u00fd onboarding nov\u00fdch \u010dlen\u016f</li> <li>Sni\u017euje riziko opakovan\u00fdch/duplicitn\u00edch diskus\u00ed</li> <li>Umo\u017e\u0148uje zp\u011btn\u011b dohledat d\u016fvody a kontext rozhodnut\u00ed</li> </ul>"},{"location":"reference/adr-explanations/#jak-strukturovat-adr","title":"Jak strukturovat ADR","text":"<p>Doporu\u010den\u00e9 sekce ka\u017ed\u00e9ho ADR:</p> <ul> <li>N\u00e1zev (stru\u010dn\u00fd, v\u00fdsti\u017en\u00fd)</li> <li>Datum (kdy bylo rozhodnut\u00ed p\u0159ijato)</li> <li>Kontext (pro\u010d je rozhodnut\u00ed pot\u0159eba, okolnosti)</li> <li>Probl\u00e9m (co je hlavn\u00ed ot\u00e1zka/probl\u00e9m)</li> <li>Rozhodnut\u00ed (jak\u00e9 \u0159e\u0161en\u00ed bylo zvoleno a pro\u010d)</li> <li>Alternativy (jak\u00e9 mo\u017enosti byly zva\u017eov\u00e1ny a pro\u010d nebyly vybr\u00e1ny)</li> <li>D\u016fsledky (pozitiva, negativa, rizika)</li> <li>Realizace (hlavn\u00ed kroky implementace)</li> <li>Ov\u011b\u0159en\u00ed \u00fasp\u011bchu (jak pozn\u00e1\u0161, \u017ee rozhodnut\u00ed bylo \u00fasp\u011b\u0161n\u011b realizov\u00e1no)</li> <li>Rizika a mitigace (hlavn\u00ed rizika a jak je minimalizovat)</li> <li>N\u00e1sledn\u00e9 kroky (co je pot\u0159eba ud\u011blat d\u00e1l)</li> </ul>"},{"location":"reference/adr-explanations/#jak-psat-adr","title":"Jak ps\u00e1t ADR","text":"<ul> <li>Pi\u0161 stru\u010dn\u011b, ide\u00e1ln\u011b na jednu str\u00e1nku</li> <li>Ka\u017ed\u00e9 rozhodnut\u00ed = samostatn\u00fd soubor (adr-0001, adr-0002\u2026)</li> <li>\u010c\u00edsluj ADR podle po\u0159ad\u00ed vzniku</li> <li>Pi\u0161 ADR kdykoliv d\u011bl\u00e1\u0161 z\u00e1sadn\u00ed rozhodnut\u00ed (ne a\u017e zp\u011btn\u011b)</li> <li>Uv\u00e1d\u011bj jen relevantn\u00ed alternativy a d\u016fsledky</li> </ul> <p>Podrobnou \u0161ablonu najde\u0161 zde: ADR Template</p> <p>Extern\u00ed zdroj: Michael Nygard \u2013 Documenting Architecture Decisions</p>"},{"location":"reference/glossary/","title":"Slovn\u00ed\u010dek pojm\u016f (rozcestn\u00edk)","text":"<p>Tato str\u00e1nka slou\u017e\u00ed jako rozcestn\u00edk pro vysv\u011btlen\u00ed kl\u00ed\u010dov\u00fdch pojm\u016f pou\u017e\u00edvan\u00fdch v dokumentaci. Pro podrobnosti klikni na jednotliv\u00e9 odkazy:</p> <ul> <li>Co je ADR (Architecture Decision Record) \u2014 Jak a pro\u010d zaznamen\u00e1vat architektonick\u00e1 rozhodnut\u00ed v projektu, \u0161ablona a anti-patterny.</li> <li>P\u0159\u00edklad ADR: LWT presence monitoring \u2014 konkr\u00e9tn\u00ed rozhodnut\u00ed pro MQTT LWT.</li> <li>LWT (Last Will and Testament) v MQTT \u2014 stru\u010dn\u00e9 vysv\u011btlen\u00ed LWT v MQTT</li> </ul>"},{"location":"reference/glossary/#anti-patterny-pri-psani-adr","title":"Anti-patterny p\u0159i psan\u00ed ADR","text":"<ul> <li>P\u0159\u00edli\u0161 dlouh\u00e9 ADR (ztr\u00e1c\u00ed \u010ditelnost)</li> <li>Bez alternativ (nen\u00ed jasn\u00e9, co bylo zv\u00e1\u017eeno)</li> <li>Bez kontextu (nev\u00edme \u201epro\u010d pr\u00e1v\u011b te\u010f\u201c)</li> </ul>"},{"location":"reference/glossary/#dalsi-pojmy","title":"Dal\u0161\u00ed pojmy","text":"<ul> <li>CI (Continuous Integration): Pr\u016fb\u011b\u017en\u00e1 integrace \u2014 \u010dast\u00e9 integra\u010dn\u00ed buildy a testy po ka\u017ed\u00e9 zm\u011bn\u011b v k\u00f3du.</li> <li>CD (Continuous Delivery / Deployment): Pr\u016fb\u011b\u017en\u00e9 doru\u010dov\u00e1n\u00ed nebo nasazov\u00e1n\u00ed \u2014 automatick\u00e1 p\u0159\u00edprava nebo nasazen\u00ed buildu do produkce \u010di testovac\u00edho prost\u0159ed\u00ed.</li> <li>SSO (Single Sign-On): Jednotn\u00e9 p\u0159ihl\u00e1\u0161en\u00ed \u2014 u\u017eivatel se p\u0159ihl\u00e1s\u00ed jedn\u00edm \u00fa\u010dtem a z\u00edsk\u00e1 p\u0159\u00edstup ke v\u0161em slu\u017eb\u00e1m, kter\u00e9 SSO podporuj\u00ed.</li> <li>TLS (Transport Layer Security): Protokol pro \u0161ifrov\u00e1n\u00ed spojen\u00ed (nap\u0159. HTTPS, MQTT over TLS).</li> <li>ACL (Access Control List): Seznam pravidel p\u0159\u00edstupu \u2014 ur\u010duje, kdo m\u00e1 jak\u00e1 opr\u00e1vn\u011bn\u00ed k jednotliv\u00fdm zdroj\u016fm nebo operac\u00edm.</li> <li>QoS (Quality of Service): \u00darove\u0148 doru\u010den\u00ed zpr\u00e1v v MQTT (QoS 0, 1, 2).</li> <li>OPC UA (Open Platform Communications Unified Architecture): Otev\u0159en\u00fd standard pro pr\u016fmyslovou komunikaci.</li> <li>MQTT (Message Queuing Telemetry Transport): Lehk\u00fd pub/sub protokol pro IoT.</li> </ul> <p>Pokud pot\u0159ebuje\u0161 dal\u0161\u00ed pojmy do slovn\u00ed\u010dku, sta\u010d\u00ed \u0159\u00edct!</p>"},{"location":"reference/mqtt-lwt/","title":"LWT (Last Will and Testament) v MQTT","text":"<p>LWT je mechanismus MQTT, kter\u00fd umo\u017e\u0148uje brokeru automaticky informovat ostatn\u00ed klienty o ne\u010dekan\u00e9m odpojen\u00ed za\u0159\u00edzen\u00ed. Typicky se pou\u017e\u00edv\u00e1 pro signalizaci stavu za\u0159\u00edzen\u00ed (ONLINE/OFFLINE).</p> <ul> <li>Klient p\u0159i p\u0159ipojen\u00ed nastav\u00ed LWT zpr\u00e1vu (nap\u0159. OFFLINE) na konkr\u00e9tn\u00ed topic.</li> <li>Pokud klient vypadne, broker tuto zpr\u00e1vu publikuje.</li> </ul> <p>Podrobn\u00e9 n\u00e1vody a p\u0159\u00edklady najde\u0161 v: - How-to: MQTT namespace - Projektov\u00e9 p\u0159\u00edklady (nap\u0159. ESP32, Node-RED)</p> <p>Pro detailn\u00ed implementaci a doporu\u010den\u00e9 postupy viz odkazy v\u00fd\u0161e.</p> <p>const char willTopic   = \"v1/home/lab/esp32-01/meta/status\"; const char willPayload = \"OFFLINE\"; const bool  willRetain  = true; const int   willQoS     = 1;</p> <p>void setup() {     // ... Wi\u2011Fi connect ...     client.setServer(mqttHost, mqttPort);</p> <pre><code>String clientId = \"esp32-01\";\n\n// LWT se nastavuje p\u0159i connectu:\n// connect(clientId, willTopic, willQoS, willRetain, willMessage)\nif (client.connect(clientId.c_str(), willTopic, willQoS, willRetain, willPayload)) {\n    // Birth message \u2013 jsme online (retained)\n    client.publish(willTopic, \"ONLINE\", true);  // retain = true\n}\n</code></pre> <p>}</p> <p>void loop() {     if (!client.connected()) {         // reconnect + znovu poslat birth po p\u0159ipojen\u00ed     }     client.loop(); } ```</p> <p>Co se stane: kdy\u017e se ESP32 \u201eztrat\u00ed\u201c (vypadne nap\u00e1jen\u00ed, Wi\u2011Fi, crash) a nestihne poslat OFFLINE, broker s\u00e1m po timeoutu po\u0161le retained OFFLINE na ten topic. Ka\u017ed\u00fd nov\u00fd subscriber uvid\u00ed posledn\u00ed stav (ONLINE/OFFLINE) okam\u017eit\u011b.</p>"},{"location":"reference/mqtt-lwt/#tipy-a-zvyky","title":"Tipy a zvyky","text":"<ul> <li>Graceful vypnut\u00ed (t\u0159eba p\u0159ed OTA nebo restartem): klidn\u011b publishni OFFLINE (retained) s\u00e1m a pak disconnect().</li> <li>Keepalive ~60 s je rozumn\u00e9; krat\u0161\u00ed = rychlej\u0161\u00ed detekce p\u00e1du, ale v\u00edce provozu.</li> <li>Jeden LWT na klienta; dr\u017e \u201estav\u201c na jednom jasn\u00e9m topicu (.../meta/status).</li> <li>V Node\u2011RED si sleduj <code>v1/home/lab/+/meta/status</code> a vykresli health p\u0159ehled.</li> </ul>"},{"location":"reference/templates/howto_template/","title":"\u0160ablona how-to","text":"<p>\u26a0\ufe0f Tato \u0161ablona slou\u017e\u00ed pouze pro zakl\u00e1d\u00e1n\u00ed nov\u00e9ho n\u00e1vodu. Nekop\u00edruj do produk\u010dn\u00edch projekt\u016f!</p>"},{"location":"reference/templates/howto_template/#nazev","title":"N\u00e1zev","text":"<p>Popi\u0161 stru\u010dn\u011b, co tento n\u00e1vod \u0159e\u0161\u00ed.</p>"},{"location":"reference/templates/howto_template/#predpoklady","title":"P\u0159edpoklady","text":"<ul> <li>...</li> </ul>"},{"location":"reference/templates/howto_template/#kroky","title":"Kroky","text":"<ol> <li>...</li> <li>...</li> </ol>"},{"location":"reference/templates/howto_template/#overeni","title":"Ov\u011b\u0159en\u00ed","text":"<ul> <li>...</li> </ul>"},{"location":"reference/templates/howto_template/#rollback","title":"Rollback","text":"<ul> <li>...</li> </ul>"},{"location":"reference/templates/howto_template/#tipy","title":"Tipy","text":"<ul> <li>...</li> </ul>"},{"location":"reference/templates/sprint_template/","title":"Sprint X \u2014 [N\u00e1zev sprintu]","text":"<p>C\u00edl sprintu</p> <p>[Stru\u010dn\u011b popi\u0161 hlavn\u00ed c\u00edl sprintu.]</p>"},{"location":"reference/templates/sprint_template/#backlog-to-do","title":"Backlog (To Do)","text":"Kategorie \u00dakol Popis / Akcepta\u010dn\u00ed krit\u00e9ria Odhad Technika Dokumentace"},{"location":"reference/templates/sprint_template/#pravidla-prace-wip","title":"Pravidla pr\u00e1ce (WIP)","text":"<ul> <li>Max 2 technick\u00e9 \u00fakoly rozd\u011blan\u00e9 najednou.</li> <li>Dokumenta\u010dn\u00ed \u00fakol p\u0159idat hned po dokon\u010den\u00ed technick\u00e9ho kroku, dokud m\u00e1\u0161 detaily \u010derstv\u00e9.</li> </ul>"},{"location":"reference/templates/sprint_template/#kriteria-pro-review","title":"Krit\u00e9ria pro review","text":""},{"location":"reference/templates/sprint_template/#-popis-konkretni-vystupy-ktere-musi-byt-splneny","title":"- [Popi\u0161 konkr\u00e9tn\u00ed v\u00fdstupy, kter\u00e9 mus\u00ed b\u00fdt spln\u011bny.]","text":""},{"location":"reference/templates/sprint_template/#rizika","title":"Rizika","text":"<ul> <li>[Popi\u0161 hlavn\u00ed rizika a doporu\u010den\u00ed, jak je minimalizovat.]</li> </ul>"}]}